# CMS-PowerCompute 产品需求说明文档

## 一、系统概述

### 1.1 系统定位
CMS-PowerCompute 是一个企业级官网内容管理系统（Content Management System），主要用于企业官网内容的可视化配置、管理和发布。系统采用前后端分离架构，前端使用 React + Vite + Tailwind CSS 构建现代化管理后台。

### 1.2 核心价值
- **可视化配置**：通过直观的编辑界面配置官网各页面内容，无需技术背景即可操作
- **全局资源复用**：统一管理公司档案、图片媒体、人员信息、资质荣誉等核心资源，支持跨页面引用
- **实时预览**：编辑内容时可实时预览最终展示效果
- **模块化设计**：按业务领域分模块管理，便于扩展和维护

### 1.3 系统架构概览
```
┌─────────────────────────────────────────────────────────────┐
│                        CMS 后台管理系统                       │
├─────────────┬─────────────────────────────┬─────────────────┤
│   侧边导航   │         主编辑区域           │   实时预览弹窗   │
│  (菜单折叠)  │    (表单编辑 + 内容管理)      │   (全屏预览)    │
└─────────────┴─────────────────────────────┴─────────────────┘
```

---

## 二、功能模块设计

### 2.1 模块总览

| 序号 | 模块名称 | 模块ID | 开发状态 | 子模块数 | 描述 |
|------|----------|--------|----------|---------|------|
| 1 | 全局资源库 | `global` | ✅ 已完成 | 4 | 管理全局复用的基础数据资源 |
| 2 | 首页管理 | `home_manage` | ✅ 已完成 | 7 | 管理官网首页内容 |
| 3 | 关于我们 | `about` | ✅ 已完成 | 6 | 管理公司介绍相关页面内容 |
| 4 | 新闻中心 | `news` | ✅ 已完成 | 3 | 管理新闻资讯内容 |
| 5 | 业务领域 | `business` | ✅ 已完成 | 5 | 管理业务介绍内容 |
| 6 | 品牌文化 | `culture` | ✅ 已完成 | 3 | 管理企业文化内容 |
| 7 | 党建领航 | `party` | ✅ 已完成 | 5 | 管理党建相关内容 |
| 8 | 人力资源 | `hr` | ✅ 已完成 | 4 | 管理人力资源相关内容 |
| 9 | 企业公开 | `public` | ✅ 已完成 | 4 | 管理企业公开信息 |
| 10 | 可持续发展 | `sustain` | ✅ 已完成 | 6 | 管理可持续发展相关内容 |

**菜单结构详情**：

```
├── 全局资源库
│   ├── 公司档案信息
│   ├── 图片媒体库
│   ├── 资质荣誉库
│   └── 人员专家库
├── 首页管理
│   ├── Banner 设置
│   ├── 最新动态
│   ├── 关于我们
│   ├── 业务板块
│   ├── 社会责任与文化
│   ├── 员工风采
│   └── 合作伙伴
├── 关于我们
│   ├── Banner 设置
│   ├── 公司简介
│   ├── 发展历程
│   ├── 董事长致辞
│   ├── 公司领导
│   └── 荣誉资质
├── 新闻中心
│   ├── Banner 设置
│   ├── 文章管理
│   └── 分类管理
├── 业务领域
│   ├── Banner 设置
│   ├── 工程承包
│   ├── 项目总览
│   ├── 实业投资
│   └── 国际贸易
├── 品牌文化
│   ├── Banner 设置
│   ├── 企业文化
│   └── 品牌形象
├── 党建领航
│   ├── Banner 设置
│   ├── 党的建设
│   ├── 廉洁从业 (Coming Soon)
│   ├── 青年之友
│   └── 职工之家 (Coming Soon)
├── 人力资源
│   ├── Banner 设置
│   ├── 人才战略
│   ├── 人才队伍
│   └── 招聘信息
├── 企业公开
│   ├── Banner 设置
│   ├── 基本信息 (含工商注册/企业资质/发展战略/业务分布/工程业绩)
│   ├── 经营管理重大事项 (待定)
│   └── 联系方式
└── 可持续发展
    ├── Banner 设置
    ├── 科技创新
    ├── 安环行动
    ├── 全球发展
    ├── 社会责任
    └── ESG报告
```

---

### 2.2 全局资源库（Global Resources）

**功能定位**：作为全站数据的"资源池"，管理可被各页面模块复用的基础数据。

#### 2.2.1 公司档案信息

**功能描述**：维护公司核心数据档案，支持被其他页面引用。

**数据字段**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 成立时间 | `foundingDate` | String | 是 | 公司成立日期 |
| 占地面积 | `areaSize` | String | 是 | 公司占地面积 |
| 全球员工 | `globalStaff` | String | 是 | 员工总数 |
| 建成项目 | `completedProjects` | String | 是 | 已完成项目数 |
| 发明专利 | `patents` | String | 是 | 专利数量 |

**业务规则**：
- 此处数据修改后，全站引用该数据的页面同步更新
- 页面可选择"引用全局档案"或"自定义输入"两种数据模式

**界面设计**：
- 顶部蓝色提示卡片说明数据用途
- 表单采用两列布局，每个字段配有标签和输入框

---

#### 2.2.2 图片媒体库

**功能描述**：统一管理全站图片资源，支持分类筛选。

**图片分类**：
| 分类ID | 分类名称 |
|--------|----------|
| `all` | 全部图片 |
| `about` | 关于我们 |
| `news` | 新闻中心 |
| `business` | 业务领域 |
| `culture` | 品牌文化 |
| `party` | 党建领航 |
| `hr` | 人力资源 |
| `public` | 企业公开 |
| `sustain` | 可持续发展 |
| `other` | 其他 |

**图片字段**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 图片ID | `id` | String | 是 | 唯一标识 |
| 图片名称 | `title` | String | 是 | 文件名/标题 |
| 图片地址 | `url` | String | 是 | 图片URL或存储路径 |
| 所属分类 | `category` | String | 是 | 分类ID |

**功能特性**：
- 分类筛选栏：点击分类标签筛选图片，显示每个分类的数量
- 图片卡片：显示缩略图、分类标签、文件名
- 上传功能：支持本地上传、URL输入
- 删除功能：悬停显示删除按钮
- 空状态提示：分类无图片时显示友好提示

**上传方式**：
- 拖拽上传：拖拽图片到上传区域
- 点击浏览：点击选择本地文件
- URL输入：输入图片URL地址

**支持格式**：JPG, PNG, WEBP（最大 10MB）

---

#### 2.2.3 资质荣誉库

**功能描述**：管理公司资质证书和荣誉奖项，分为数据展示和详细信息两部分。

**主 Tab**：资质 | 荣誉（按钮风格切换）

**资质数据展示字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 数据ID | `id` | String | 是 | 唯一标识 |
| 数值 | `value` | String | 是 | 如：9 |
| 单位 | `unit` | Enum | 否 | `个` / `项` / `+` / `家` |
| 标签说明 | `label` | String | 是 | 如：工程勘察综合甲级资质 |

**资质信息字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 资质ID | `id` | String | 是 | 唯一标识 |
| 资质名称 | `title` | String | 是 | 资质证书名称 |
| 颁发机构 | `issuer` | String | 否 | 如：住房和城乡建设部 |
| 颁发日期 | `issueDate` | Date | 否 | 日期选择器 |
| 过期时间 | `expireDate` | Date | 否 | 日期选择器（资质特有） |
| 描述 | `description` | String(TextArea) | 否 | 详细描述 |
| 扫描件 | `image` | String(URL) | 否 | 证书图片 |

**荣誉数据展示字段**：同资质数据展示

**荣誉信息字段**：同资质信息，**无过期时间字段**

**界面设计**：
- 数据展示：3 列网格卡片，显示数值+单位+标签
- 信息展示：3 列卡片，卡片结构：图片区（4:3 比例，居中）+ 信息区（名称、颁发机构、日期）
- 悬停显示编辑/删除按钮

**功能特性**：
- 数据展示和信息展示在同一页面，无需切换
- 支持新增、编辑、删除
- 卡片布局优化，图片居中显示

---

#### 2.2.4 人员专家库

**功能描述**：管理公司领导、专家等人员信息。

**数据字段**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 人员ID | `id` | String | 是 | 唯一标识 |
| 姓名 | `name` | String | 是 | 人员姓名 |
| 职务 | `title` | String | 是 | 职位名称 |
| 头像 | `photo` | String | 否 | 头像图片 |
| 简介 | `bio` | String | 否 | 个人简介 |

**功能特性**：
- 卡片列表：显示头像、姓名、职务、简介
- 内联编辑：直接在卡片内修改信息
- 头像选择：支持从图片库选择或上传
- 新增弹窗：完整表单录入人员信息

---

### 2.3 首页管理（Home Management）

**功能定位**：配置官网首页各模块内容，包括 Banner、新闻、关于我们、业务板块等。

#### 2.3.1 Banner 设置

**功能描述**：配置首页顶部大屏 Banner 的标题、副标题、按钮和背景。

**数据来源**：用户填写

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 主标题 | `title` | String | 是 | 如：工程领域综合解决方案服务商 |
| 副标题 | `subtitle` | String | 是 | 如：成为一流的世界级工程企业 |
| 背景类型 | `bgType` | Enum | 是 | `image`(图片) / `video`(视频) |
| 背景图片 | `bgImage` | String(URL) | 条件必填 | 从图片库选择或上传 |
| 背景视频 | `bgVideo` | File(URL) | 条件必填 | 支持拖拽上传 MP4/WebM |

**按钮配置**（主按钮 + 次按钮）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 按钮文字 | `primaryButton.text` | String | 是 | 如：联系我们 |
| 链接类型 | `primaryButton.linkType` | Enum | 是 | `internal`(站内) / `external`(外部) / `anchor`(锚点) |
| 跳转链接 | `primaryButton.link` | String | 是 | 根据链接类型自动添加前缀 |

**业务规则**：
- 链接类型自动添加前缀：站内(`/`)、外部(`https://`)、锚点(`#`)
- 视频支持拖拽上传

---

#### 2.3.2 最新动态

**功能描述**：配置首页"最新动态"模块，从新闻中心选择要展示的新闻。

**数据来源**：引用全局资源库（新闻中心/文章管理）

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 置顶推荐新闻 | `featuredNews` | Array<NewsId> | 是 | 最多选择 3 条，大图展示 |
| 卡片展示新闻 | `cardNews` | Array<NewsId> | 是 | 最多选择 3 条，小卡片展示 |

**功能特性**：
- 点击"选择新闻"按钮弹出新闻列表弹窗
- 弹窗内显示新闻中心/文章管理的完整表格
- 支持按分类筛选、按标题搜索
- 分类显示中文标签（公司要闻、项目动态、行业资讯、企业新闻）
- 选中新闻后可设置为"置顶推荐"或"卡片展示"

---

#### 2.3.3 关于我们（首页）

**功能描述**：配置首页"关于我们"模块，展示公司简介和核心数据。

**数据来源**：用户填写 + 可引用全局档案

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 公司介绍 | `content` | String(TextArea) | 是 | 公司简介正文 |
| 数据模式 | `statsMode` | Enum | 是 | `global`(引用全局) / `custom`(自定义) |
| 全局引用键 | `selectedGlobalKeys` | Array<String> | 条件必填 | 引用全局档案字段 |
| 自定义数据 | `stats` | Array<StatItem> | 条件必填 | 最多 6 项 |

**自定义数据项字段**：

| 字段名 | 字段标识 | 类型 | 说明 |
|--------|----------|------|------|
| 数值 | `value` | String | 如：1965 |
| 单位 | `unit` | String | 如：年、+、% |
| 标签 | `label` | String | 如：成立时间 |
| 描述 | `description` | String | 如：六十年工程建设经验 |

**快捷按钮配置**（最多 4 个）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 按钮文字 | `text` | String | 是 | 如：央企背景 |
| 链接类型 | `linkType` | Enum | 是 | `internal` / `external` |
| 跳转链接 | `link` | String | 是 | 跳转地址 |

---

#### 2.3.4 业务板块

**功能描述**：配置首页"业务板块"展示，包含工程总承包、国际贸易、实业发展三个子模块。

**数据来源**：用户填写

**工程总承包配置**（6 个子类卡片）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 子类名称 | `name` | String | 是 | 如：化学工程 |
| 图标 | `icon` | Enum | 是 | 可选：factory/beaker/flame/droplets/zap/cog/briefcase/globe/building |
| 说明 | `description` | String(TextArea) | 否 | 简要描述 |
| 封面类型 | `coverType` | Enum | 是 | `image` / `video` |
| 封面图片 | `coverImage` | String(URL) | 条件必填 | 从图片库选择 |
| 封面视频 | `coverVideo` | File(URL) | 条件必填 | 上传视频 |

**国际贸易 / 实业发展配置**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 标题 | `title` | String | 是 | 模块标题 |
| 副标题 | `subtitle` | String | 是 | 模块副标题 |
| 背景类型 | `bgType` | Enum | 是 | `image` / `video` |
| 背景图片 | `bgImage` | String(URL) | 条件必填 | 背景图 |
| 背景视频 | `bgVideo` | File(URL) | 条件必填 | 背景视频 |
| 按钮文字 | `button.text` | String | 是 | 如：了解更多 |
| 按钮链接 | `button.link` | String | 是 | 跳转地址 |

---

#### 2.3.5 社会责任与文化

**功能描述**：配置首页轮播图片展示。

**数据来源**：用户上传

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 轮播图片 | `images` | Array<ImageItem> | 是 | 只需图片，无标题和描述 |

---

#### 2.3.6 员工风采

**功能描述**：配置首页员工风采轮播展示。

**数据来源**：用户上传

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 轮播图片 | `images` | Array<ImageItem> | 是 | 只需图片，无标题和描述 |

---

#### 2.3.7 合作伙伴

**功能描述**：配置首页合作伙伴 Logo 展示。

**数据来源**：用户上传

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 合作伙伴Logo | `partners` | Array<PartnerItem> | 是 | 支持拖拽排序 |

**合作伙伴项字段**：

| 字段名 | 字段标识 | 类型 | 说明 |
|--------|----------|------|------|
| 名称 | `name` | String | 合作伙伴名称 |
| Logo | `logo` | String(URL) | Logo 图片 |

---

### 2.4 关于我们（About）

**功能定位**：配置官网"关于我们"频道下的所有页面内容。

#### 2.4.1 Banner 设置

**功能描述**：配置"关于我们"频道的通用顶部横幅。

**配置项**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 主标题 | `title` | String | 是 | Banner 大标题 |
| 副标题 | `subtitle` | String | 是 | Slogan/英文标题 |
| 背景类型 | `bgType` | Enum | 是 | `color`(纯色) / `image`(图片) |
| 背景值 | `bgValue` | String | 是 | 颜色值或图片URL |

**功能特性**：
- 背景模式切换：纯色背景 / 图片背景
- 颜色选择器：提供预设颜色选择
- 图片上传：从图片库选择背景图
- 应用范围：此配置应用于简介、历程、致辞、领导、荣誉等所有子页面

---

#### 2.4.2 公司简介

**功能描述**：配置公司简介页面的图文内容和核心数据展示。

**配置项**：

**图文内容**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 标题 | `title` | String | 是 | 模块标题 |
| 正文 | `content` | String | 是 | 简介正文（富文本） |
| 配图 | `image` | Object | 否 | 公司形象图（支持裁剪） |

**核心数据展示**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 数据模式 | `statsMode` | Enum | 是 | `global`(引用全局) / `custom`(自定义) |
| 全局引用键 | `selectedGlobalKeys` | Array | 条件必填 | 引用的全局档案字段 |
| 自定义数据 | `customStats` | Array | 条件必填 | 自定义的数据项（label+value） |

**业务规则**：
- 核心数据最多显示 4 项
- 选择"引用全局档案"时，从公司档案信息中选择字段
- 选择"自定义输入"时，手动填写数据标签和数值

---

#### 2.4.3 发展历程

**功能描述**：配置公司发展历程时间线。

**时间节点字段**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 节点ID | `id` | Number | 是 | 唯一标识 |
| 年份 | `year` | String | 是 | 时间年份 |
| 事件标题 | `title` | String | 是 | 里程碑事件名称 |
| 详细描述 | `desc` | String | 是 | 事件详细说明 |
| 配图 | `img` | Object | 否 | 节点配图 |

**功能特性**：
- 时间线布局：左侧年份，右侧内容卡片
- 新增节点：点击顶部按钮添加新节点（默认添加到最前面）
- 节点排序：按年份倒序排列（最新在前）
- 删除节点：每个节点可单独删除
- 配图上传：每个节点可选择配图

---

#### 2.4.4 董事长致辞

**功能描述**：配置董事长致辞页面内容。

**配置项**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 致辞人 | `speakerId` | String | 是 | 从人员库选择 |
| 自定义照片 | `customImage` | Object | 否 | 覆盖默认头像 |
| 致辞标题 | `content.title` | String | 是 | 致辞标题 |
| 致辞正文 | `content.body` | String | 是 | 致辞内容 |

**业务规则**：
- 致辞人从人员库选择，自动获取姓名、职务、头像
- 可单独上传照片覆盖人员库中的默认头像

---

#### 2.4.5 公司领导

**功能描述**：配置领导班子展示页面。

**数据来源**：引用全局资源库（人员专家库）

**配置项**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 领导列表 | `leaderIds` | Array | 是 | 选中的人员ID数组（有序） |

**功能特性**：
- 从人员库勾选要展示的领导
- 显示人员头像、姓名、职务
- 选中状态高亮显示
- **支持拖拽排序**：可拖动调整领导展示顺序

---

#### 2.4.6 荣誉资质

**功能描述**：配置荣誉资质展示页面。

**配置项**：

**统计数据**：同公司简介的核心数据展示，最多 5 项

**资质展示**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 资质标题 | `qualifications.title` | String | 是 | 区块标题 |
| 资质列表 | `qualifications.certIds` | Array | 是 | 资质证书ID列表 |

**荣誉展示**：
| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 荣誉标题 | `honors.title` | String | 是 | 区块标题 |
| 荣誉列表 | `honors.certIds` | Array | 是 | 荣誉证书ID列表 |

**功能特性**：
- 从资质荣誉库中按分类选择证书
- 支持多选
- 选中状态显示勾选标记
- **支持拖拽排序**：可拖动调整资质/荣誉展示顺序

---

### 2.5 新闻中心（News Center）

**功能定位**：管理官网新闻资讯的发布、分类和展示。

#### 2.5.1 Banner 设置

**功能描述**：配置新闻中心频道的通用顶部横幅。

**数据来源**：用户填写

**配置字段**：同"关于我们 Banner 设置"

---

#### 2.5.2 文章管理

**功能描述**：管理新闻文章的创建、编辑、发布。

**数据来源**：用户填写

**文章字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 文章ID | `id` | Number | 是 | 唯一标识，自动生成 |
| 文章标题 | `title` | String | 是 | 文章标题 |
| 文章摘要 | `summary` | String(TextArea) | 否 | 支持 AI 智能提取 |
| 文章内容 | `content` | String(RichText) | 是 | 富文本编辑器 |
| 所属分类 | `category` | Enum | 是 | 见分类列表 |
| 展示位置 | `displayPosition` | Enum | 是 | 见展示位置配置 |
| 封面图片 | `cover` | String(URL) | 否 | 从图片库选择 |
| 作者 | `author` | String | 否 | 默认：管理员 |
| 发布日期 | `publishDate` | Date | 是 | 日期选择器 |
| 发布状态 | `status` | Enum | 是 | `published`(已发布) / `draft`(草稿) |

**分类列表**：

| 分类ID | 分类名称 | 展示位置规则 |
|--------|----------|-------------|
| `company` | 公司要闻 | 可选：大图推荐(5)、小图推荐(1)、文字推荐(3)、普通列表 |
| `project` | 项目动态 | 可选：大图推荐、普通列表 |
| `industry` | 行业资讯 | 固定：小图推荐（卡片形式） |
| `enterprise` | 企业新闻 | 固定：普通列表 |

**展示位置配置**：

| 位置ID | 位置名称 | 最大数量 | 图标 |
|--------|----------|---------|------|
| `bigImage` | 大图推荐 | 5 | Image |
| `smallImage` | 小图推荐 | 1 | LayoutGrid |
| `textRecommend` | 文字推荐 | 3 | FileText |
| `normal` | 普通列表 | 不限 | List |

**列表功能**：
- 搜索：按标题/摘要搜索
- 筛选：按状态、分类、日期筛选
- 排序：发布时间、修改时间、展示位置、标题
- 分页：每页 10 条

**操作按钮**：
- 新增文章 → 弹出编辑弹窗
- 编辑 → 弹出编辑弹窗
- 删除 → 确认后删除
- 保存草稿 / 保存发布

---

#### 2.5.3 分类管理

**功能描述**：管理新闻分类（当前为固定分类，可扩展为动态管理）。

---

### 2.6 业务领域（Business）

**功能定位**：管理公司业务介绍相关页面。

#### 2.6.1 Banner 设置

**功能描述**：配置业务领域频道的通用顶部横幅，支持核心数据展示。

**数据来源**：用户填写 + 可引用全局档案

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 主标题 | `title` | String | 是 | Banner 大标题 |
| 副标题 | `subtitle` | String | 是 | 副标题 |
| 背景类型 | `bgType` | Enum | 是 | `color` / `image` |
| 背景值 | `bgValue` | String | 是 | 颜色值或图片URL |

**数据展示配置**：使用统一的 `StatsDisplay` 组件（见公共组件）

---

#### 2.6.2 工程承包

**功能描述**：管理工程承包业务类别与项目明细。

**数据来源**：用户填写

**Tab 页**：类别设置 | 工程承包明细

**类别设置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 类别ID | `id` | String | 是 | 唯一标识 |
| 类别名称 | `title` | String | 是 | 如：化学工程 |
| 封面图片 | `coverImage` | String(URL) | 否 | 建议比例 16:10 |

**功能特性**：
- 类别卡片展示，支持拖拽排序
- 悬停显示编辑按钮

**工程承包明细字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 项目ID | `id` | String | 是 | 唯一标识 |
| 项目标题 | `title` | String | 是 | 项目名称 |
| 项目摘要 | `summary` | String(TextArea) | 否 | 简要描述 |
| 项目详情 | `content` | String(TextArea) | 否 | 详细内容 |
| 所属类别 | `category` | String | 是 | 类别ID |
| 封面图片 | `coverImage` | String(URL) | 否 | 从图片库选择 |
| 发布状态 | `status` | Enum | 是 | `published` / `draft` |
| 发布时间 | `publishTime` | DateTime | 否 | 发布时间 |
| 修改时间 | `updateTime` | DateTime | 是 | 自动更新 |

**列表功能**：搜索、筛选（状态/类别）、排序、分页

---

#### 2.6.3 项目总览

**功能描述**：项目总览页面（过渡页面，待开发）。

---

#### 2.6.4 实业投资

**功能描述**：管理实业投资业务介绍。

**数据来源**：用户填写

**模块管理**：支持添加多个业务模块，每个模块包含：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 模块ID | `id` | String | 是 | 唯一标识 |
| 模块名称 | `title` | String | 是 | 业务模块名称 |
| 模块描述 | `description` | String(TextArea) | 否 | 详细描述 |
| 配图 | `image` | String(URL) | 否 | 模块配图 |

**功能特性**：
- 支持拖拽排序
- 支持新增、编辑、删除模块

---

#### 2.6.5 国际贸易

**功能描述**：管理国际贸易业务介绍。

**数据来源**：用户填写

**配置字段**：同实业投资

---

### 2.7 品牌文化（Culture）

**功能定位**：管理企业品牌文化相关页面。

#### 2.7.1 Banner 设置

**功能描述**：配置品牌文化频道的通用顶部横幅。

**默认值**：
- 主标题：品牌文化
- 副标题：传承企业精神，塑造卓越品牌
- 背景：紫色渐变

---

#### 2.7.2 企业文化

**功能描述**：管理企业文化活动内容。

**数据来源**：用户填写

**Tab 页**：企业理念 | 精彩文化活动 | 员工风采

**企业理念字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 标题 | `title` | String | 是 | 理念标题 |
| 内容 | `content` | String(TextArea) | 是 | 理念内容 |
| 配图 | `image` | String(URL) | 否 | 配图 |

**精彩文化活动字段**（列表形式）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 活动ID | `id` | String | 是 | 唯一标识 |
| 活动标题 | `title` | String | 是 | 活动名称 |
| 活动摘要 | `summary` | String(TextArea) | 否 | 简要描述 |
| 活动内容 | `content` | String(RichText) | 是 | 富文本内容 |
| 封面图片 | `coverImage` | String(URL) | 否 | 活动封面 |
| 发布状态 | `status` | Enum | 是 | `published` / `draft` |
| 未同步修改标记 | `hasUnsyncedChanges` | Boolean | 是 | 是否有未保存的修改 |

**卡片状态显示**：
- 🟡 **有未保存的修改** (`unsaved`) - 当 `status='draft'` 且 `hasUnsyncedChanges=true` 时显示
- 🔵 **待更新** (`pending`) - 当 `status='draft'` 且 `hasUnsyncedChanges=false` 时显示
- 🟢 **已上线** (`published`) - 当 `status='published'` 且 `hasUnsyncedChanges=false` 时显示

**操作按钮**：
- **编辑弹窗**：确认、历史记录（仅编辑已有活动时显示）
  - 点击"确认"后，活动标记为 `hasUnsyncedChanges=true`，卡片显示黄色"有未保存的修改"
  - 编辑已有活动时，只有真正有修改的才会标记为 `hasUnsyncedChanges=true`
- **卡片操作**：编辑、历史记录（卡片右上角，悬停显示）、删除
- **页面底部**：保存配置、发布更新
  - 点击"保存配置"后，有修改的活动变为 `status='draft'`，`hasUnsyncedChanges=false`，卡片显示蓝色"待更新"
  - 点击"发布更新"后，`status='draft'` 的活动变为 `status='published'`，`hasUnsyncedChanges=false`，卡片显示绿色"已上线"
  - 没有修改的活动/员工保持原状，不受影响

**状态流转**：
1. **新建活动** → 点击"确认" → 🟡 有未保存的修改（`status='draft'`，`hasUnsyncedChanges=true`）
2. **点击"保存配置"** → 🔵 待更新（`status='draft'`，`hasUnsyncedChanges=false`）
3. **点击"发布更新"** → 🟢 已上线（`status='published'`，`hasUnsyncedChanges=false`）
4. **编辑已有活动**（有修改）→ 点击"确认" → 🟡 有未保存的修改
5. **编辑已有活动**（无修改）→ 点击"确认" → 保持原状

**员工风采字段**（列表形式）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 员工ID | `id` | String | 是 | 唯一标识 |
| 员工姓名 | `name` | String | 是 | 员工姓名 |
| 职位 | `title` | String | 是 | 职位名称 |
| 简介/金句 | `summary` | String | 否 | 一句话描述 |
| 详细内容 | `content` | String(TextArea) | 否 | 详细介绍 |
| 员工照片 | `image` | String(URL) | 否 | 员工照片 |
| 发布状态 | `status` | Enum | 是 | `published` / `draft` |
| 未同步修改标记 | `hasUnsyncedChanges` | Boolean | 是 | 是否有未保存的修改 |

**卡片状态显示**：同精彩文化活动

**操作按钮**：同精彩文化活动

**状态流转**：同精彩文化活动

---

#### 2.7.3 品牌形象

**功能描述**：管理品牌形象相关内容。

---

### 2.8 党建领航（Party Building）

**功能定位**：管理党建相关页面内容。

#### 2.8.1 Banner 设置

**默认值**：
- 主标题：党建领航
- 副标题：坚持党的领导，引领企业发展
- 背景：红色渐变

---

#### 2.8.2 党的建设

**功能描述**：管理党建新闻动态。

**数据来源**：用户填写（独立管理，不在全局资源库）

**文章字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 文章ID | `id` | Number | 是 | 唯一标识 |
| 文章标题 | `title` | String | 是 | 标题 |
| 文章摘要 | `summary` | String(TextArea) | 否 | 摘要 |
| 文章内容 | `content` | String(RichText) | 是 | 富文本内容 |
| 封面图片 | `coverImage` | String(URL) | 否 | 封面图 |
| 作者 | `author` | String | 否 | 作者 |
| 发布状态 | `status` | Enum | 是 | `published` / `draft` |
| 发布时间 | `publishTime` | DateTime | 是 | 发布时间 |
| 修改时间 | `updateTime` | DateTime | 是 | 自动更新 |

**功能特性**：
- 使用 DataTable 组件展示
- 搜索、筛选、排序、分页
- **无展示位置、无分类字段**（与新闻中心的区别）
- 编辑弹窗底部：取消 / 保存草稿 / 发布

---

#### 2.8.3 廉洁从业

**功能描述**：廉洁从业页面（过渡页面）。

**状态**：Coming Soon

---

#### 2.8.4 青年之友

**功能描述**：管理青年之友相关内容。

**数据来源**：用户填写

**文章字段**：同"党的建设"，但增加展示位置字段：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 展示位置 | `displayPosition` | Enum | 是 | `bigImage`(大图推荐) / `card`(卡片) |

**展示位置规则**：
- 大图推荐：最多 3 个
- 卡片：不限数量
- 展示位置选择器带图标说明

---

#### 2.8.5 职工之家

**功能描述**：职工之家页面（过渡页面）。

**状态**：Coming Soon

---

### 2.9 人力资源（HR）

**功能定位**：管理人力资源相关页面。

#### 2.9.1 Banner 设置

**默认值**：
- 主标题：人力资源
- 副标题：人才是第一资源，共创美好未来
- 背景：青色渐变

---

#### 2.9.2 人才战略

**功能描述**：管理人才战略页面内容。

**数据来源**：用户填写

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 文字段落 | `sections` | Array<SectionItem> | 是 | 可添加多个段落 |
| 展示图片 | `images` | Array<ImageItem> | 是 | 3 张轮播图 |

**段落项字段**：

| 字段名 | 字段标识 | 类型 | 说明 |
|--------|----------|------|------|
| 段落ID | `id` | String | 唯一标识 |
| 段落标题 | `title` | String | 如：人才强企，筑基一流 |
| 段落内容 | `content` | String(TextArea) | 详细内容 |

**功能特性**：
- 段落支持拖拽排序
- 段落支持新增、删除

---

#### 2.9.3 人才队伍

**功能描述**：管理人才队伍页面内容。

**数据来源**：用户填写 + 可引用全局档案

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 配图 | `image` | String(URL) | 否 | 左侧大图 |
| 标题 | `title` | String | 是 | 如：人才队伍 |
| 内容介绍 | `description` | String(TextArea) | 是 | 详细介绍 |
| 数据模式 | `statsMode` | Enum | 是 | `global` / `custom` |
| 自定义数据 | `customStats` | Array<StatItem> | 条件必填 | 最多 4 项 |

**数据展示**：使用统一的 `StatsDisplay` 组件

---

#### 2.9.4 招聘信息

**功能描述**：管理招聘公告信息，与新闻中心-文章管理使用相同的编辑器和数据结构。

**数据来源**：用户填写

**技术实现**：使用 `NewsListEditor` 组件，`category='recruit'`，与新闻中心-文章管理共享相同的编辑逻辑和历史记录功能。

**招聘公告字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 公告ID | `id` | String | 是 | 唯一标识 |
| 公告标题 | `title` | String | 是 | 招聘公告标题，如：中国化学工程第七建设有限公司部分二级单位副职招聘公告 |
| 公告摘要 | `summary` | String(TextArea) | 否 | 简要描述 |
| 公告内容 | `content` | String(RichText) | 是 | 富文本详细内容 |
| 作者 | `author` | String | 是 | 默认：人力资源部 |
| 附件 | `attachment` | Object | 否 | 招聘公告附件（PDF等），格式：`{ name: string, url: string }` |
| 发布时间 | `publishTime` | String | 是 | 格式：'YYYY/MM/DD HH:mm:ss' |
| 更新时间 | `updateTime` | String | 是 | 格式：'YYYY/MM/DD HH:mm:ss' |
| 发布状态 | `status` | Enum | 是 | `published` / `draft` |
| 未同步修改标记 | `hasUnsyncedChanges` | Boolean | 是 | 是否有未保存的修改 |

**特殊说明**：
- 招聘信息不需要封面图片（`cover` 字段为空）
- 招聘信息不需要展示位置（`displayPosition` 为 `null`）
- 招聘信息支持附件上传（`attachment` 字段）
- 与新闻中心-文章管理使用相同的历史记录功能：
  - **页面级操作日志**：记录发布、下架、更新操作（`mode="article"`）
  - **单篇文章版本历史**：记录单个招聘公告的编辑和发布版本历史（`mode="editor"`，`useArticleVersionLabels={true}`）

**列表功能**：搜索、筛选、排序、分页（与新闻中心-文章管理相同）

---

### 2.10 企业公开（Public Information）

**功能定位**：管理企业公开信息页面。

#### 2.10.1 Banner 设置

**默认值**：
- 主标题：企业公开
- 副标题：公开透明，接受社会监督
- 背景：绿色渐变

---

#### 2.10.2 基本信息

**功能描述**：管理企业基本公开信息。

**数据来源**：用户填写 + 引用全局资源库

**Tab 页**：工商注册 | 企业资质 | 发展战略 | 业务分布 | 工程业绩

**Tab 样式**：按钮风格（非划线）

**工商注册字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 公司名称 | `companyName` | String | 是 | 公司全称 |
| 统一社会信用代码 | `unifiedSocialCreditCode` | String | 是 | 18位代码 |
| 注册类型 | `registrationType` | String | 是 | 如：有限责任公司 |
| 法定代表人 | `legalRepresentative` | String | 是 | 法人姓名 |
| 注册资本 | `registeredCapital` | String | 是 | 如：10亿元 |
| 成立日期 | `establishDate` | Date | 是 | 日期选择器 |
| 注册地址 | `registrationAddress` | String | 是 | 完整地址 |
| 经营范围 | `businessScope` | String(TextArea) | 是 | 详细范围 |

**企业资质配置**（展示组形式）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 资质名称 | `title` | String | 是 | 如：工程设计综合甲级资质 |
| 数量 | `count` | String | 是 | 如：6 |
| 单位 | `unit` | Enum | 否 | `个` / `项` / `+` |
| 证书图片 | `images` | Array<ImageItem> | 否 | 支持多张轮播 |

**功能特性**：
- 资质展示组支持新增、编辑、删除
- 每个展示组包含数据统计和图片轮播

**发展战略配置**（时间线形式）：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 年份 | `year` | String | 是 | 如：2024 |
| 标题 | `title` | String | 是 | 如：数字化转型元年 |
| 描述 | `content` | String(TextArea) | 否 | 详细描述 |

**功能特性**：
- 时间线布局，按年份倒序
- **无配图**（与"关于我们/发展历程"的区别）

**业务分布 / 工程业绩**：Coming Soon 过渡页面

---

#### 2.10.3 经营管理重大事项

**功能描述**：经营管理重大事项页面（预留）。

**状态**：待定，先显示空状态页面

---

#### 2.10.4 联系方式

**功能描述**：管理企业联系方式。

**数据来源**：用户填写

**Tab 页**：联系信息 | 留言管理

**Tab 样式**：按钮风格

**联系信息字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 联系电话 | `phone` | String | 是 | 如：400-xxx-xxxx |
| 电子邮箱 | `email` | String | 是 | 如：contact@company.com |
| 公司地址 | `address` | String | 是 | 详细地址 |
| 传真 | `fax` | String | 否 | 传真号码 |

**留言管理**：展示用户提交的留言列表

---

### 2.11 可持续发展（Sustainable Development）

**功能定位**：管理可持续发展相关页面。

#### 2.11.1 Banner 设置

**默认值**：
- 主标题：可持续发展
- 副标题：绿色发展，共建美好未来
- 背景：天蓝色渐变

---

#### 2.11.2 科技创新

**功能描述**：管理科技创新页面内容。

**数据来源**：用户填写 + 引用全局资源库

**Tab 页**：科技简介 | 荣誉资质展示 | 科技创新成果

**Tab 样式**：按钮风格

**科技简介字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 标题 | `title` | String | 是 | 简介标题 |
| 内容 | `content` | String(TextArea) | 是 | 简介内容 |
| 配图 | `image` | String(URL) | 否 | 配图 |

**荣誉资质展示**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 已选资质 | `selectedCerts` | Array<CertId> | 是 | 从全局资质荣誉库选择 |

**功能特性**：
- 引用全局资源库"资质荣誉库"中的**资质信息**
- 支持多选

**科技创新成果**：使用模块管理组件（同实业投资）

---

#### 2.11.3 安环行动

**功能描述**：管理安全环保行动页面。

**数据来源**：用户填写

**Tab 页**：安全环保目标 | 管理方针

**Tab 样式**：按钮风格

**安全环保目标字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 目标标题 | `title` | String | 是 | 如：零伤亡 |
| 目标描述 | `description` | String(TextArea) | 否 | 详细说明 |
| 配图 | `image` | String(URL) | 否 | 目标配图 |

**管理方针字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 方针标题 | `title` | String | 是 | 方针名称 |
| 方针内容 | `content` | String(TextArea) | 是 | 详细内容 |

---

#### 2.11.4 全球发展

**功能描述**：管理全球发展页面。

**数据来源**：用户填写

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 标题 | `title` | String | 是 | 页面标题 |
| 内容 | `content` | String(TextArea) | 是 | 介绍内容 |
| 配图 | `image` | String(URL) | 否 | 配图 |
| 核心发展策略 | `strategies` | Array<StrategyItem> | 否 | 策略列表 |
| 发展团队结构 | `teamStructure` | Array<TeamItem> | 否 | 团队结构 |

---

#### 2.11.5 社会责任

**功能描述**：管理社会责任页面。

**数据来源**：用户填写 + 引用全局资源库

**Tab 页**：荣誉典藏 | 公益服务

**Tab 样式**：按钮风格

**荣誉典藏**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 已选荣誉 | `selectedHonors` | Array<HonorId> | 是 | 从全局资质荣誉库选择 |

**功能特性**：
- 引用全局资源库"资质荣誉库"中的**荣誉信息**
- 支持多选

**公益服务字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 项目标题 | `title` | String | 是 | 公益项目名称 |
| 项目描述 | `description` | String(TextArea) | 是 | 详细描述 |
| 配图 | `image` | String(URL) | 否 | 项目配图 |

---

#### 2.11.6 ESG 报告

**功能描述**：管理 ESG 报告文件上传。

**数据来源**：用户上传

**配置字段**：

| 字段名 | 字段标识 | 类型 | 必填 | 说明 |
|--------|----------|------|------|------|
| 报告列表 | `reports` | Array<ReportItem> | 是 | ESG 报告文件 |

**报告项字段**：

| 字段名 | 字段标识 | 类型 | 说明 |
|--------|----------|------|------|
| 报告ID | `id` | String | 唯一标识 |
| 报告名称 | `title` | String | 如：2024年度ESG报告 |
| 文件 | `file` | File(URL) | PDF 文件 |
| 上传时间 | `uploadTime` | DateTime | 自动记录 |

**功能特性**：
- 支持拖拽上传 PDF 文件
- 显示文件列表，支持删除

---

## 三、用户界面设计

### 3.1 整体布局

```
┌──────────────────────────────────────────────────────────────────┐
│ ┌────────────┐ ┌──────────────────────────────────────────────┐ │
│ │            │ │ Header: 面包屑导航 + 预览按钮 + 通知          │ │
│ │   侧边栏    │ ├──────────────────────────────────────────────┤ │
│ │   (256px)  │ │                                              │ │
│ │            │ │           主内容区域 (可滚动)                  │ │
│ │  - Logo    │ │                                              │ │
│ │  - 菜单    │ │     表单编辑器 / 内容管理界面                  │ │
│ │  - 用户    │ │                                              │ │
│ │            │ │                                              │ │
│ └────────────┘ └──────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────┘
```

### 3.2 侧边栏导航
- **Logo区域**：系统图标 + "CMS 后台" 标题
- **折叠菜单**：点击主菜单展开/收起子菜单
- **激活状态**：当前页面高亮显示蓝色
- **用户信息**：底部显示当前登录用户

### 3.3 顶部导航栏
- **面包屑**：显示当前位置（分类 / 页面）
- **预览按钮**：点击打开全屏预览弹窗
- **通知图标**：显示未读通知数量

### 3.4 视觉规范


# **1. 品牌色（Brand Colors）**

| Token               | 色值          | 用途               |
| ------------------- | ----------- | ---------------- |
| **Brand / Primary** | **#2B7FFF** | 主要按钮、主视觉、链接、高亮元素 |
| Primary Hover       | #589AFF     | 元素悬停态            |
| Primary Active      | #1F6DDB     | 元素按下态            |
| Primary Light       | #E6F1FF     | 轻量背景、标签背景        |

---

# **2. 语义色（Semantic Colors）**

## ✔ 成功 Success

| Token         | 色值          | 用途        |
| ------------- | ----------- | --------- |
| Success       | **#27C46A** | 成功提示、状态成功 |
| Success Hover | #44D589     | 按钮悬停      |
| Success Light | #E8FFF3     | 背景轻量提示    |

## ⚠ 警告 Warning

| Token         | 色值          | 用途       |
| ------------- | ----------- | -------- |
| Warning       | **#FFB020** | 警告、待处理状态 |
| Warning Hover | #FFC348     | 悬停       |
| Warning Light | #FFF7E8     | 提示背景     |

## ✖ 错误 Error

| Token       | 色值          | 用途      |
| ----------- | ----------- | ------- |
| Error       | **#FF4D4F** | 错误、删除操作 |
| Error Hover | #FF6B6D     | 悬停      |
| Error Light | #FFECEC     | 背景提示    |

## ℹ 信息 Info

| Token      | 色值                | 用途      |
| ---------- | ----------------- | ------- |
| Info       | **#2B7FFF**（主色复用） | 信息状态、标签 |
| Info Light | #E6F1FF           | 背景      |

---

# **3. 辅助色（辅助视觉层级）**

| Token          | 色值      | 用途            |
| -------------- | ------- | ------------- |
| Highlight Blue | #5EA8FF | 二级按钮、图表颜色     |
| Light Blue     | #A5CDFF | 图表浅色、卡片背景渐变   |
| Indigo         | #204ECF | 深色强调（标题渐变、图标） |
| Cyan           | #34D5FF | 装饰性点缀、图表辅助    |

---

# **4. 中性色（Neutrals）**

## 用于页面背景、线条、文字的灰阶体系（AntD 同级）

| Token  | 色值      | 用途          |
| ------ | ------- | ----------- |
| Gray-1 | #FFFFFF | 纯白背景        |
| Gray-2 | #FAFAFA | 页面背景、卡片外背景  |
| Gray-3 | #F5F7FA | 内容分区背景、禁用背景 |
| Gray-4 | #E6E8EB | 线条、边框       |
| Gray-5 | #CBD0D6 | 弱边框、占位符背景   |
| Gray-6 | #8A9099 | 次要文字、图标     |
| Gray-7 | #4B4F55 | 主文字正文       |
| Gray-8 | #1C1F23 | 标题文字        |

---

# **5. 功能色（背景、边框、阴影）**

## 阴影 Shadow

| Token         | 标准                             | 用途      |
| ------------- | ------------------------------ | ------- |
| Shadow-Base   | 0 4px 12px rgba(0, 0, 0, 0.08) | 卡片、弹窗阴影 |
| Shadow-Light  | 0 2px 6px rgba(0, 0, 0, 0.05)  | 浮层      |
| Shadow-Strong | 0 8px 24px rgba(0, 0, 0, 0.12) | 强调性悬浮卡片 |

## 边框 Border

| Token         | 色值      | 用途       |
| ------------- | ------- | -------- |
| Border Light  | #E6E8EB | 常规边框     |
| Border Strong | #CBD0D6 | 表格、输入框边框 |

---

# **6. 状态色（State Tokens）**

| 状态          | 背景      | 文字      | 场景     |
| ----------- | ------- | ------- | ------ |
| Primary Tag | #E6F1FF | #2B7FFF | 标签、状态点 |
| Success Tag | #E8FFF3 | #27C46A | 成功状态   |
| Error Tag   | #FFECEC | #FF4D4F | 错误状态   |
| Warning Tag | #FFF7E8 | #FFB020 | 待审核、警告 |

---


---

# **7. 字体系统（Typography System）**

## 字体家族 Font Family

```css
font-family: "Noto Sans SC", "PingFang SC", "Microsoft YaHei", sans-serif;
```

**特点**：
- 使用思源黑体（Noto Sans SC）作为主字体
- Mac & Windows 渲染一致
- 现代、圆润、清晰的中文显示

## 字体层级 Typography Scale

| 层级 | Token | 字号 | 字重 | 行高 | 用途 |
|------|-------|------|------|------|------|
| **页面标题** | `.text-title` | 20px | 600 | 28px | 页面名称 |
| **区块标题** | `.text-section` | 16px | 500 | 24px | 卡片标题 |
| **正文** | `.text-body` | 14px | 400 | 22px | 表格、表单、内容 |
| **辅助文字** | `.text-caption` | 12px | 400 | 18px | 提示、占位符 |

## 字重 Font Weight

| Token | 值 | 用途 |
|-------|-----|------|
| `font-regular` | 400 | 正文、辅助文字 |
| `font-medium` | 500 | 区块标题、按钮 |
| `font-semibold` | 600 | 页面标题、强调 |

## 文本颜色 Text Colors

| Token | 色值 | 用途 |
|-------|------|------|
| `--text-primary` | `#1A1A1A` | 标题、主内容 |
| `--text-regular` | `#333333` | 正文普通文本 |
| `--text-secondary` | `#666666` | 次要信息 |
| `--text-placeholder` | `#999999` | 占位文字 |
| `--text-disabled` | `#C2C2C2` | 禁用状态 |
| `--text-link` | `#2B7FFF` | 链接文字 |
| `--text-success` | `#27C652` | 成功提示 |
| `--text-warning` | `#FAAD14` | 警告提示 |
| `--text-error` | `#FF4D4F` | 错误提示 |

---

# **8. 间距系统（Spacing System）**

| Token | 值 | Tailwind 类名 | 用途 |
|-------|-----|--------------|------|
| `--space-xxs` | 4px | `xxs` | 图标间距、标签内 |
| `--space-xs` | 8px | `xs` | 小组件内边距 |
| `--space-sm` | 12px | `sm` | 表格、小表单间距 |
| `--space-md` | 16px | `md` | 常规内容间距 ⭐ **最常用** |
| `--space-lg` | 20px | `lg` | 卡片内部 padding |
| `--space-xl` | 24px | `xl` | 页面内边距 |
| `--space-xxl` | 32px | `xxl` | 区块分隔、上方空白 |
| `--space-xxxl` | 40px | `xxxl` | Banner、大块视觉区 |

**使用示例**：
```jsx
<div className="p-lg">      {/* 卡片内边距 20px */}
<div className="gap-md">    {/* 元素间距 16px */}
<div className="mt-xxl">    {/* 区块分隔 32px */}
```

---

# **9. 圆角系统（Radius System）**

| Token | 值 | Tailwind 类名 | 用途 |
|-------|-----|--------------|------|
| `--radius-xs` | 4px | `rounded-xs` | icon 背景、小标签 |
| `--radius-sm` | 6px | `rounded-sm` | 输入框、按钮 |
| `--radius-md` | 8px | `rounded-md` | 卡片、表格容器 ⭐ **推荐** |
| `--radius-lg` | 12px | `rounded-lg` | 弹窗、较大块内容 |
| `--radius-xl` | 16px | `rounded-xl` | 登录框、Banner 卡片 |

---

# **10. 组件规范（Component Specifications）**

## 卡片 Card

| 属性 | 值 |
|------|-----|
| 背景 | `gray-1` (#FFFFFF) |
| 圆角 | `rounded-md` (8px) |
| 阴影 | `shadow-base` |
| 内边距 | `p-lg` (20px) |

## 按钮 Button

| 类型 | 样式 |
|------|------|
| 主按钮 | `bg-brand` + `text-white` + `rounded-sm` |
| 次要按钮 | `bg-white` + `border-gray-5` + `text-text-primary` |
| 虚线按钮 | `border-dashed` + `border-gray-5` |
| 圆角 | `rounded-sm` (6px) |
| 内边距 | `px-md py-xs` |

## 输入框 Input

| 属性 | 值 |
|------|-----|
| 背景 | `gray-2` (#FAFAFA) |
| 边框 | `border-gray-4` |
| 圆角 | `rounded-sm` (6px) |
| 聚焦 | `ring-brand/20` + `border-brand` |

## 表格 Table

| 属性 | 值 |
|------|-----|
| 表头背景 | `gray-3` |
| 边框 | `border-gray-4` |
| 行悬停 | `hover:bg-gray-2` |
| 单元格内边距 | `px-sm py-sm` |

## Banner

| 属性 | 值 |
|------|-----|
| 高度 | 120px |
| 弥散效果 | `filter: blur(60px)` 渐变圆形装饰 |
| 内边距 | `px-lg py-lg` |

---

# **11. 页面布局规范（Layout Specifications）**

| 区域 | 宽度/间距 |
|------|----------|
| 左侧导航栏 | 256px |
| 主内容区最大宽度 | 1160px |
| 内容区边距 | 20px (`p-lg`) |

---

# **12. 设计原则（Design Principles）**

## 风格定位

| 维度 | 描述 |
|------|------|
| **整体风格** | 现代简约、科技感、专业清爽 |
| **主色调** | 蓝色系 (`#2B7FFF`) - 传递信任、专业、科技感 |
| **视觉密度** | 中等偏疏朗，注重留白与呼吸感 |
| **交互反馈** | 柔和过渡，hover/active 状态明确 |

## 核心原则

1. **一致性** - 统一的颜色、字体、间距、圆角系统
2. **层次感** - 通过灰度和阴影建立视觉层级
3. **简洁性** - 避免过度装饰，聚焦内容
4. **可读性** - 合理的行高和对比度
5. **响应式** - 适配不同屏幕尺寸

---

# **13. CSS 变量完整清单（CSS Variables）**

```css
:root {
  /* 字体系统 Typography */
  --font-family-base: "Noto Sans SC", "PingFang SC", "Microsoft YaHei", sans-serif;
  --font-size-xl: 20px;
  --font-size-lg: 16px;
  --font-size-md: 14px;
  --font-size-sm: 12px;
  --line-height-xl: 28px;
  --line-height-lg: 24px;
  --line-height-md: 22px;
  --line-height-sm: 18px;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;

  /* 文本颜色 Text Colors */
  --text-primary: #1A1A1A;
  --text-regular: #333333;
  --text-secondary: #666666;
  --text-placeholder: #999999;
  --text-disabled: #C2C2C2;
  --text-link: #2B7FFF;
  --text-success: #27C652;
  --text-warning: #FAAD14;
  --text-error: #FF4D4F;

  /* 间距系统 Spacing */
  --space-xxs: 4px;
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 20px;
  --space-xl: 24px;
  --space-xxl: 32px;
  --space-xxxl: 40px;

  /* 圆角系统 Radius */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;

  /* 品牌色 Brand */
  --color-brand: #2B7FFF;
  --color-brand-hover: #589AFF;
  --color-brand-active: #1F6DDB;
  --color-brand-light: #E6F1FF;

  /* 语义色 Semantic */
  --color-success: #27C46A;
  --color-success-hover: #44D589;
  --color-success-light: #E8FFF3;
  --color-warning: #FFB020;
  --color-warning-hover: #FFC348;
  --color-warning-light: #FFF7E8;
  --color-error: #FF4D4F;
  --color-error-hover: #FF6B6D;
  --color-error-light: #FFECEC;
  --color-info: #2B7FFF;
  --color-info-light: #E6F1FF;

  /* 辅助色 Auxiliary */
  --color-highlight-blue: #5EA8FF;
  --color-light-blue: #A5CDFF;
  --color-indigo: #204ECF;
  --color-cyan: #34D5FF;

  /* 中性色 Neutrals */
  --color-gray-1: #FFFFFF;
  --color-gray-2: #FAFAFA;
  --color-gray-3: #F5F7FA;
  --color-gray-4: #E6E8EB;
  --color-gray-5: #CBD0D6;
  --color-gray-6: #8A9099;
  --color-gray-7: #4B4F55;
  --color-gray-8: #1C1F23;

  /* 阴影 Shadows */
  --shadow-base: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-light: 0 2px 6px rgba(0, 0, 0, 0.05);
  --shadow-strong: 0 8px 24px rgba(0, 0, 0, 0.12);

  /* 边框 Borders */
  --border-light: #E6E8EB;
  --border-strong: #CBD0D6;
}
```

---

## 四、数据模型设计

### 4.1 全局资源库数据模型

#### 公司档案（CompanyInfo）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 成立时间 | String | 是 | 公司成立日期 |
| 占地面积 | String | 是 | 公司占地面积 |
| 全球员工 | String | 是 | 员工总数 |
| 建成项目 | String | 是 | 已完成项目数 |
| 发明专利 | String | 是 | 专利数量 |
| 国家和地区 | String | 否 | 业务覆盖的国家和地区 |

#### 图片资源（ImageItem）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 图片ID | String | 是 | 唯一标识 |
| 图片名称 | String | 是 | 文件名/标题 |
| 图片地址 | String | 是 | 图片URL或存储路径 |
| 所属分类 | Enum | 是 | 分类：关于我们/新闻中心/业务领域/品牌文化/党建领航/人力资源/企业公开/可持续发展/其他 |

#### 资质荣誉库（CertLibrary）

**资质数据展示字段**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 数据ID | String | 是 | 唯一标识 |
| 数值 | String | 是 | 如：9 |
| 单位 | Enum | 否 | `个` / `项` / `+` / `家` |
| 标签说明 | String | 是 | 如：工程勘察综合甲级资质 |

**资质信息字段**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 资质ID | String | 是 | 唯一标识 |
| 资质名称 | String | 是 | 资质证书名称 |
| 颁发机构 | String | 否 | 如：住房和城乡建设部 |
| 颁发日期 | Date | 否 | 日期选择器 |
| 过期时间 | Date | 否 | 日期选择器（资质特有） |
| 描述 | String(TextArea) | 否 | 详细描述 |
| 扫描件 | String(URL) | 否 | 证书图片 |

**荣誉数据展示字段**：同资质数据展示

**荣誉信息字段**：同资质信息，**无过期时间字段**

#### 人员信息（PersonItem）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 人员ID | String | 是 | 唯一标识 |
| 姓名 | String | 是 | 人员姓名 |
| 职务 | String | 是 | 职位名称 |
| 头像 | String | 否 | 头像图片 |
| 简介 | String | 否 | 个人简介 |

---

### 4.2 新闻文章（NewsItem）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 文章ID | Number | 是 | 唯一标识，自动生成 |
| 文章标题 | String | 是 | 文章标题 |
| 文章摘要 | String(TextArea) | 否 | 支持 AI 智能提取 |
| 文章内容 | String(RichText) | 是 | 富文本编辑器 |
| 所属分类 | Enum | 是 | 公司要闻/项目动态/行业资讯/企业新闻 |
| 展示位置 | Enum | 是 | 大图推荐/小图推荐/文字推荐/普通列表 |
| 封面图片 | String(URL) | 否 | 从图片库选择 |
| 作者 | String | 否 | 默认：管理员 |
| 发布日期 | Date | 是 | 日期选择器 |
| 发布状态 | Enum | 是 | `published`(已发布) / `draft`(草稿) |

---

### 4.3 首页配置数据模型

#### 首页 Banner（HomeBanner）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 主标题 | String | 是 | 如：工程领域综合解决方案服务商 |
| 副标题 | String | 是 | 如：我们的愿景 |
| 背景类型 | Enum | 是 | `image`(图片) / `video`(视频) |
| 背景图片 | String(URL) | 条件必填 | 从图片库选择或上传 |
| 背景视频 | File(URL) | 条件必填 | 支持拖拽上传 MP4/WebM |
| 主按钮文字 | String | 是 | 如：联系我们 |
| 主按钮链接类型 | Enum | 是 | `internal`(站内) / `external`(外部) / `anchor`(锚点) |
| 主按钮跳转链接 | String | 是 | 根据链接类型自动添加前缀 |
| 次按钮文字 | String | 是 | 如：了解更多 |
| 次按钮链接类型 | Enum | 是 | `internal`(站内) / `external`(外部) / `anchor`(锚点) |
| 次按钮跳转链接 | String | 是 | 根据链接类型自动添加前缀 |

#### 首页最新动态（HomeNews）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 置顶推荐新闻 | Array<NewsId> | 是 | 最多选择 3 条，大图展示 |
| 卡片展示新闻 | Array<NewsId> | 是 | 最多选择 3 条，小卡片展示 |

#### 首页关于我们（HomeAbout）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 公司介绍 | String(TextArea) | 是 | 公司简介正文 |
| 数据模式 | Enum | 是 | `global`(引用全局) / `custom`(自定义) |
| 全局引用键 | Array<String> | 条件必填 | 引用全局档案字段 |
| 自定义数据 | Array<StatItem> | 条件必填 | 最多 6 项 |
| 快捷按钮 | Array<HomeButtonItem> | 是 | 最多 4 个 |

**自定义数据项字段**：

| 字段名 | 字段类型 | 说明 |
|--------|----------|------|
| 数值 | String | 如：1965 |
| 单位 | String | 如：年、+、% |
| 标签 | String | 如：成立时间 |
| 描述 | String | 如：六十年工程建设经验 |

**快捷按钮字段**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 按钮文字 | String | 是 | 如：央企背景 |
| 链接类型 | Enum | 是 | `internal` / `external` |
| 跳转链接 | String | 是 | 跳转地址 |

#### 首页业务板块（HomeBusiness）

**工程总承包配置**（6 个子类卡片）：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 子类名称 | String | 是 | 如：化学工程 |
| 图标 | Enum | 是 | 可选：factory/beaker/flame/droplets/zap/cog/briefcase/globe/building |
| 说明 | String(TextArea) | 否 | 简要描述 |
| 封面类型 | Enum | 是 | `image` / `video` |
| 封面图片 | String(URL) | 条件必填 | 从图片库选择 |
| 封面视频 | File(URL) | 条件必填 | 上传视频 |

**国际贸易 / 实业发展配置**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 标题 | String | 是 | 模块标题 |
| 副标题 | String | 是 | 模块副标题 |
| 背景类型 | Enum | 是 | `image` / `video` |
| 背景图片 | String(URL) | 条件必填 | 背景图 |
| 背景视频 | File(URL) | 条件必填 | 背景视频 |
| 按钮文字 | String | 是 | 如：了解更多 |
| 按钮链接 | String | 是 | 跳转地址 |

---

### 4.4 关于我们配置

#### Banner 配置

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 主标题 | String | 是 | Banner 大标题 |
| 副标题 | String | 是 | Slogan/英文标题 |
| 背景类型 | Enum | 是 | `color`(纯色) / `image`(图片) |
| 背景值 | String | 是 | 颜色值或图片URL |

#### 公司简介配置

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 标题 | String | 是 | 模块标题 |
| 正文 | String | 是 | 简介正文（富文本） |
| 配图 | Object | 否 | 公司形象图（支持裁剪） |
| 数据模式 | Enum | 是 | `global`(引用全局) / `custom`(自定义) |
| 全局引用键 | Array | 条件必填 | 引用的全局档案字段 |
| 自定义数据 | Array | 条件必填 | 自定义的数据项（label+value），最多 4 项 |

#### 发展历程节点

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 节点ID | Number | 是 | 唯一标识 |
| 年份 | String | 是 | 时间年份 |
| 事件标题 | String | 是 | 里程碑事件名称 |
| 详细描述 | String | 是 | 事件详细说明 |
| 配图 | Object | 否 | 节点配图 |

#### 致辞配置

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 致辞人 | String | 是 | 从人员库选择 |
| 自定义照片 | Object | 否 | 覆盖默认头像 |
| 致辞标题 | String | 是 | 致辞标题 |
| 致辞正文 | String | 是 | 致辞内容 |

#### 领导配置

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 领导列表 | Array | 是 | 选中的人员ID数组（有序） |

#### 荣誉资质配置

**统计数据**：同公司简介的核心数据展示，最多 5 项

**资质展示**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 资质标题 | String | 是 | 区块标题 |
| 资质列表 | Array | 是 | 资质证书ID列表 |

**荣誉展示**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 荣誉标题 | String | 是 | 区块标题 |
| 荣誉列表 | Array | 是 | 荣誉证书ID列表 |

---

### 4.5 业务领域配置

#### 工程承包类别

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 类别ID | String | 是 | 唯一标识 |
| 类别名称 | String | 是 | 如：化学工程 |
| 封面图片 | String(URL) | 否 | 建议比例 16:10 |

#### 工程承包项目

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 项目ID | String | 是 | 唯一标识 |
| 项目标题 | String | 是 | 项目名称 |
| 项目摘要 | String(TextArea) | 否 | 简要描述 |
| 项目详情 | String(TextArea) | 否 | 详细内容 |
| 所属类别 | String | 是 | 类别ID |
| 封面图片 | String(URL) | 否 | 从图片库选择 |
| 发布状态 | Enum | 是 | `published` / `draft` |
| 发布时间 | DateTime | 否 | 发布时间 |
| 修改时间 | DateTime | 是 | 自动更新 |

#### 业务模块（实业投资/国际贸易）

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 模块ID | String | 是 | 唯一标识 |
| 模块名称 | String | 是 | 业务模块名称 |
| 模块描述 | String(TextArea) | 否 | 详细描述 |
| 配图 | String(URL) | 否 | 模块配图 |

---

### 4.6 人力资源配置

#### 人才战略

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 文字段落 | Array<SectionItem> | 是 | 可添加多个段落 |
| 展示图片 | Array<ImageItem> | 是 | 3 张轮播图 |

**段落项字段**：

| 字段名 | 字段类型 | 说明 |
|--------|----------|------|
| 段落ID | String | 唯一标识 |
| 段落标题 | String | 如：人才强企，筑基一流 |
| 段落内容 | String(TextArea) | 详细内容 |

#### 人才队伍

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 配图 | String(URL) | 否 | 左侧大图 |
| 标题 | String | 是 | 如：人才队伍 |
| 内容介绍 | String(TextArea) | 是 | 详细介绍 |
| 数据模式 | Enum | 是 | `global` / `custom` |
| 自定义数据 | Array<StatItem> | 条件必填 | 最多 4 项 |

#### 招聘职位

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 职位ID | String | 是 | 唯一标识 |
| 职位名称 | String | 是 | 如：前端工程师 |
| 工作地点 | String | 是 | 如：北京 |
| 招聘人数 | String | 否 | 如：2人 |
| 学历要求 | String | 否 | 如：本科及以上 |
| 工作经验 | String | 否 | 如：3-5年 |
| 职位描述 | String(TextArea) | 是 | 详细描述 |
| 发布状态 | Enum | 是 | `published` / `draft` |

---

### 4.7 企业公开配置

#### 工商注册

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 公司名称 | String | 是 | 公司全称 |
| 统一社会信用代码 | String | 是 | 18位代码 |
| 注册类型 | String | 是 | 如：有限责任公司 |
| 法定代表人 | String | 是 | 法人姓名 |
| 注册资本 | String | 是 | 如：10亿元 |
| 成立日期 | Date | 是 | 日期选择器 |
| 注册地址 | String | 是 | 完整地址 |
| 经营范围 | String(TextArea) | 是 | 详细范围 |

#### 企业资质展示组

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 资质名称 | String | 是 | 如：工程设计综合甲级资质 |
| 数量 | String | 是 | 如：6 |
| 单位 | Enum | 否 | `个` / `项` / `+` |
| 证书图片 | Array<ImageItem> | 否 | 支持多张轮播 |

#### 发展战略时间线

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 年份 | String | 是 | 如：2024 |
| 标题 | String | 是 | 如：数字化转型元年 |
| 描述 | String(TextArea) | 否 | 详细描述 |

---

### 4.8 可持续发展配置

#### ESG 报告

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 报告ID | String | 是 | 唯一标识 |
| 报告名称 | String | 是 | 如：2024年度ESG报告 |
| 文件 | File(URL) | 是 | PDF 文件 |
| 上传时间 | DateTime | 是 | 自动记录 |

---

## 五、技术实现

### 6.1 技术架构说明

系统采用前后端分离架构，前端使用现代化技术栈构建管理后台界面。

**技术选型**：
- UI 框架：React
- 构建工具：Vite
- 样式框架：Tailwind CSS
- 图标库：Lucide React

**项目结构**：
- 主应用入口
- 常量配置（初始数据）
- UI 基础组件（按钮、输入框、弹窗等）
- 业务通用组件（数据展示、搜索筛选、历史记录等）
- 预览组件（各模块预览）
- 编辑器组件（各模块编辑器）

---

### 6.2 组件设计原则

### 6.3 公共组件详细设计

以下是系统中可复用的公共组件，前后端开发时需重点关注。

---

#### 6.3.1 UI 基础组件

**Button 按钮**

| 属性 | 类型 | 说明 |
|------|------|------|
| `variant` | `'primary'` / `'secondary'` | 按钮样式：主按钮（蓝底白字）/ 次按钮（白底灰边） |
| `disabled` | Boolean | 禁用状态 |
| `onClick` | Function | 点击回调 |
| `children` | ReactNode | 按钮内容（支持图标+文字） |

**Input 输入框**

| 属性 | 类型 | 说明 |
|------|------|------|
| 输入值 | String | 当前输入的值 |
| 值变化回调 | Function | 输入值变化时的回调函数 |
| 占位提示 | String | 输入框占位符文字 |
| 输入类型 | Enum | 文本 / 日期 / 数字 |
| 额外样式 | String | 自定义样式类名（可选） |

**TextArea 多行输入**

| 属性 | 类型 | 说明 |
|------|------|------|
| 输入值 | String | 当前输入的文本内容 |
| 值变化回调 | Function | 输入值变化时的回调函数 |
| 显示行数 | Number | 默认显示的行数，默认 4 行 |
| 占位提示 | String | 输入框占位符文字 |

**Modal 弹窗**

| 属性 | 类型 | 说明 |
|------|------|------|
| 是否显示 | Boolean | 控制弹窗显示/隐藏 |
| 关闭回调 | Function | 关闭弹窗时的回调函数 |
| 弹窗标题 | String | 弹窗顶部显示的标题 |
| 弹窗尺寸 | Enum | 小 / 中 / 大 / 超大 / 超超大 |
| 底部按钮区 | Node | 弹窗底部自定义按钮区域 |
| 是否全屏 | Boolean | 是否全屏显示弹窗 |
| 弹窗内容 | Node | 弹窗主体内容 |

**FormItem 表单项**

| 属性 | 类型 | 说明 |
|------|------|------|
| `label` | String | 标签文字 |
| `required` | Boolean | 是否必填（显示红色星号） |
| `children` | ReactNode | 表单控件 |

**Select 下拉选择**

| 属性 | 类型 | 说明 |
|------|------|------|
| `value` | String | 当前值 |
| `onChange` | Function | 值变化回调 |
| `options` | Array<{value, label}> | 选项列表 |
| `placeholder` | String | 占位提示 |

**Card 卡片**

| 属性 | 类型 | 说明 |
|------|------|------|
| `className` | String | 额外样式类 |
| `children` | ReactNode | 卡片内容 |

---

#### 6.3.2 业务通用组件

**PageBanner 页面横幅**

用于编辑器页面顶部，展示页面标题、描述和操作按钮。

| 属性 | 类型 | 说明 |
|------|------|------|
| `title` | String | 页面标题 |
| `description` | String | 页面描述 |
| `buttonText` | String | 操作按钮文字 |
| `buttonIcon` | `'save'` / `'add'` | 按钮图标 |
| `onButtonClick` | Function | 按钮点击回调 |

**ImageSelector 图片选择器**

用于从图片库选择图片或上传新图片。

| 属性 | 类型 | 说明 |
|------|------|------|
| `label` | String | 标签文字 |
| `value` | Object / null | 当前选中图片 `{ url, title }` |
| `onChange` | Function | 选中变化回调 `(img) => void` |
| `library` | Array<ImageItem> | 图片库数据 |

**功能**：
- 显示当前选中图片预览
- 点击打开图片库弹窗
- 支持分类筛选
- 支持上传新图片
- 可清除已选图片

---

**StatsDisplay 数据展示组件（核心公共组件）**

用于所有页面的核心数据展示，支持引用全局档案或自定义输入。

| 属性 | 类型 | 说明 |
|------|------|------|
| `title` | String | 区块标题，默认"核心数据展示" |
| `stats` | Array<StatItem> | 自定义数据列表 |
| `onChange` | Function | 数据变化回调 |
| `statsMode` | `'global'` / `'custom'` | 数据模式 |
| `onModeChange` | Function | 模式切换回调 |
| `selectedGlobalKeys` | Array<String> | 已选全局档案键 |
| `onGlobalKeysChange` | Function | 全局选择变化回调 |
| `companyInfo` | Object | 全局档案数据 |
| `maxItems` | Number | 最大数据条数，默认 6 |
| `cols` | 2 / 3 / 4 | 列数，默认 3 |
| `showModeSwitch` | Boolean | 是否显示模式切换，默认 true |

**StatItem 数据项结构**：

```typescript
interface StatItem {
  id: string;
  value: string;      // 数值，如 "1965"
  unit: string;       // 单位，如 "年"、"+"、"%"
  label: string;      // 标签，如 "成立时间"
  description?: string; // 描述，如 "六十年工程建设经验"
}
```

**使用场景**：
- 关于我们/公司简介 - 核心数据展示
- 首页管理/关于我们 - 核心数据展示
- 人力资源/人才队伍 - 核心数据展示
- 业务领域/Banner - 数据展示
- 荣誉资质页面 - 统计数据展示

---

**SearchFilterBar 搜索筛选栏**

用于列表页面的搜索、筛选、排序功能。

| 属性 | 类型 | 说明 |
|------|------|------|
| `searchText` | String | 搜索关键词 |
| `onSearchChange` | Function | 搜索变化回调 |
| `searchPlaceholder` | String | 搜索占位提示 |
| `sortOptions` | Array<{id, label}> | 排序选项 |
| `sortBy` | String | 当前排序字段 |
| `sortOrder` | `'asc'` / `'desc'` | 排序方向 |
| `onSortChange` | Function | 排序变化回调 `(field, order) => void` |
| `filterFields` | Array<FilterField> | 筛选字段配置 |
| `onFilterChange` | Function | 筛选变化回调 `(fieldId, value) => void` |
| `onFilterReset` | Function | 重置筛选回调 |

**FilterField 筛选字段结构**：

```typescript
interface FilterField {
  id: string;
  label: string;
  type: 'select' | 'date';
  value: string;
  options?: Array<{value: string, label: string}>; // select 类型必填
}
```

---

**DataTable 数据表格**

用于列表数据展示，支持排序、分页。

| 属性 | 类型 | 说明 |
|------|------|------|
| `columns` | Array<Column> | 列配置 |
| `data` | Array<Object> | 数据列表 |
| `sortBy` | String | 当前排序字段 |
| `sortOrder` | `'asc'` / `'desc'` | 排序方向 |
| `onSortChange` | Function | 排序变化回调 |
| `currentPage` | Number | 当前页码 |
| `pageSize` | Number | 每页条数 |
| `total` | Number | 总条数 |
| `onPageChange` | Function | 页码变化回调 |
| `emptyText` | String | 空状态文字 |
| `minWidth` | Number | 最小宽度（px） |

**Column 列配置结构**：

```typescript
interface Column {
  key: string;           // 字段标识
  title: string;         // 列标题
  width?: number;        // 列宽度（px）
  sortable?: boolean;    // 是否可排序
  render?: (value, row) => ReactNode; // 自定义渲染
}
```

---

**RichTextEditor 富文本编辑器**

简化版富文本编辑器，用于文章内容编辑。

| 属性 | 类型 | 说明 |
|------|------|------|
| `value` | String(HTML) | 编辑内容 |
| `onChange` | Function | 内容变化回调 |

**工具栏功能**：
- 加粗 (Bold)
- 斜体 (Italic)
- 下划线 (Underline)
- 标题 (H1、H2)
- 插入图片

---

**CertPicker 资质荣誉选择器**

用于从全局资质荣誉库选择资质或荣誉。

| 属性 | 类型 | 说明 |
|------|------|------|
| `type` | `'qualification'` / `'honor'` | 选择类型 |
| `selectedIds` | Array<String> | 已选 ID 列表 |
| `onChange` | Function | 选择变化回调 |
| `certLib` | Object | 资质荣誉库数据 |

---

**UnderConstruction 过渡页面**

用于尚未开发的模块占位。

| 属性 | 类型 | 说明 |
|------|------|------|
| `title` | String | 模块标题 |
| `description` | String | 描述文字 |

**显示内容**：
- 圆形图标背景 + Construction 图标
- 模块标题
- "该模块正在建设中，敬请期待..."
- "Coming Soon" 标签

---

**UnifiedHistoryModal 统一历史记录弹窗（核心公共组件）**

用于所有页面的历史记录查看，支持三种不同的记录模式。

| 属性 | 类型 | 说明 |
|------|------|------|
| 是否显示 | Boolean | 控制弹窗显示/隐藏 |
| 关闭回调 | Function | 关闭弹窗时的回调函数 |
| 弹窗标题 | String | 历史记录弹窗的标题 |
| 记录模式 | Enum | `editor`（配置页面模式）/ `library`（资源库模式）/ `article`（文章页面级操作模式） |
| 历史记录数据 | Array | 历史记录列表数据 |
| 恢复版本回调 | Function | 恢复历史版本时的回调函数（editor 和 article 模式支持） |

**三种模式说明**：

1. **配置页面模式** (`mode="editor"`)
   - 记录保存配置和发布上线的历史
   - 支持恢复历史版本
   - 状态：`draft`（保存配置）、`published`（发布上线）

2. **资源库模式** (`mode="library"`)
   - 记录资源的新增、编辑、删除操作
   - 不支持恢复（操作不可逆）
   - 操作类型：`add`（新增）、`edit`（编辑）、`delete`（删除）

3. **文章页面级操作模式** (`mode="article"`)
   - 记录文章的上架、下架、展示位移动操作
   - 支持恢复历史版本
   - 操作类型：`publish`（上架）、`unpublish`（下架）、`move`（展示位移动）

**功能特性**：
- 按月份分组显示，可折叠展开
- 搜索修改描述和操作人
- 时间范围快速筛选（最近7天/30天/3个月）
- 状态/操作类型筛选
- 支持恢复历史版本（editor 和 article 模式）
- 时间轴展示，最新记录高亮显示

**使用场景**：
- 配置页面：页面标题栏右侧显示"历史记录"按钮，点击查看该页面的保存和发布历史
- 资源库页面：页面顶部或操作栏显示"历史记录"按钮，点击查看资源操作历史
- 文章管理页面：页面级历史记录文章操作，单篇文章历史记录版本变更

---

#### 6.3.3 编辑器组件命名规范

| 模块 | 编辑器组件 | 文件名 |
|------|-----------|--------|
| 全局资源库/公司档案 | CompanyInfoEditor | `CompanyInfoEditor.jsx` |
| 全局资源库/图片媒体库 | ImageLibraryEditor | `ImageLibraryEditor.jsx` |
| 全局资源库/资质荣誉库 | CertLibraryEditor | `CertLibraryEditor.jsx` |
| 全局资源库/人员专家库 | PeopleLibraryEditor | `PeopleLibraryEditor.jsx` |
| 关于我们/Banner | AboutBannerEditor | `AboutBannerEditor.jsx` |
| 关于我们/公司简介 | IntroEditor | `IntroEditor.jsx` |
| 关于我们/发展历程 | HistoryEditor | `HistoryEditor.jsx` |
| 关于我们/董事长致辞 | SpeechEditor | `SpeechEditor.jsx` |
| 关于我们/公司领导 | LeadersEditor | `LeadersEditor.jsx` |
| 关于我们/荣誉资质 | HonorsEditor | `HonorsEditor.jsx` |
| 首页管理/Banner | HomeBannerEditor | `HomeBannerEditor.jsx` |
| 首页管理/最新动态 | HomeNewsEditor | `HomeNewsEditor.jsx` |
| 首页管理/关于我们 | HomeAboutEditor | `HomeAboutEditor.jsx` |
| 首页管理/业务板块 | HomeBusinessEditor | `HomeBusinessEditor.jsx` |
| 首页管理/社会责任与文化 | HomeCultureEditor | `HomeCultureEditor.jsx` |
| 首页管理/员工风采 | HomeStaffEditor | `HomeStaffEditor.jsx` |
| 首页管理/合作伙伴 | HomePartnerEditor | `HomePartnerEditor.jsx` |
| 新闻中心/Banner | NewsBannerEditor | `NewsBannerEditor.jsx` |
| 新闻中心/文章管理 | NewsListEditor | `NewsListEditor.jsx` |
| 新闻中心/分类管理 | NewsCategoryEditor | `NewsCategoryEditor.jsx` |
| 业务领域/Banner | BusinessBannerEditor | `BusinessBannerEditor.jsx` |
| 业务领域/工程承包 | BusinessEngineeringEditor | `BusinessEngineeringEditor.jsx` |
| 业务领域/实业投资 | BusinessIndustryEditor | `BusinessIndustryEditor.jsx` |
| 业务领域/国际贸易 | BusinessTradeEditor | `BusinessTradeEditor.jsx` |
| 品牌文化/Banner | ModuleBannerEditor | `ModuleBannerEditor.jsx` |
| 品牌文化/企业文化 | CultureCompanyEditor | `CultureCompanyEditor.jsx` |
| 品牌文化/品牌形象 | BrandImageEditor | `BrandImageEditor.jsx` |
| 党建领航/Banner | ModuleBannerEditor | `ModuleBannerEditor.jsx` |
| 党建领航/党的建设 | PartyBuildingEditor | `PartyBuildingEditor.jsx` |
| 党建领航/廉洁从业 | PartyIntegrityEditor | `PartyIntegrityEditor.jsx` |
| 党建领航/青年之友 | PartyYouthEditor | `PartyYouthEditor.jsx` |
| 党建领航/职工之家 | PartyWorkersEditor | `PartyWorkersEditor.jsx` |
| 人力资源/Banner | ModuleBannerEditor | `ModuleBannerEditor.jsx` |
| 人力资源/人才战略 | HREditor | `HREditor.jsx` (type='strategy') |
| 人力资源/人才队伍 | HREditor | `HREditor.jsx` (type='team') |
| 人力资源/招聘信息 | HRRecruitEditor | `HRRecruitEditor.jsx` |
| 企业公开/Banner | ModuleBannerEditor | `ModuleBannerEditor.jsx` |
| 企业公开/基本信息 | PublicBasicEditor | `PublicBasicEditor.jsx` |
| 企业公开/联系方式 | PublicContactEditor | `PublicContactEditor.jsx` |
| 可持续发展/Banner | ModuleBannerEditor | `ModuleBannerEditor.jsx` |
| 可持续发展/科技创新 | SustainTechEditor | `SustainTechEditor.jsx` |
| 可持续发展/安环行动 | SustainSafetyEditor | `SustainSafetyEditor.jsx` |
| 可持续发展/全球发展 | SustainGlobalEditor | `SustainGlobalEditor.jsx` |
| 可持续发展/社会责任 | SustainResponsibilityEditor | `SustainResponsibilityEditor.jsx` |
| 可持续发展/ESG报告 | SustainESGEditor | `SustainESGEditor.jsx` |

---

#### 6.3.4 通用 Banner 编辑器

**ModuleBannerEditor 模块 Banner 编辑器**

用于品牌文化、党建领航、人力资源、企业公开、可持续发展模块的 Banner 设置。

| 属性 | 类型 | 说明 |
|------|------|------|
| `title` | String | 页面标题，如"品牌文化 Banner 设置" |
| `description` | String | 页面描述 |
| `data` | Object | Banner 配置数据 |
| `onChange` | Function | 数据变化回调 |
| `imageLib` | Array<ImageItem> | 图片库数据 |

**Banner 配置字段**：

| 字段名 | 字段类型 | 必填 | 说明 |
|--------|----------|------|------|
| 主标题 | String | 是 | Banner 大标题 |
| 副标题 | String | 是 | Slogan/英文标题 |
| 背景类型 | Enum | 是 | `color`(纯色) / `image`(图片) |
| 背景值 | String | 是 | 颜色值或图片URL |

**功能特性**：
- 背景模式切换：纯色 / 图片
- 纯色模式：提供预设颜色选择
- 图片模式：从图片库选择

---

### 6.4 设计原则

- **模块化设计**：组件按功能职责拆分，便于维护和扩展
- **全局数据复用**：全局资源库数据可被多个页面引用，确保数据一致性
- **统一组件**：数据展示、搜索筛选、数据表格、历史记录等使用统一组件，保持交互一致性
- **实时预览**：编辑内容可即时预览最终效果，提升编辑体验
- **响应式布局**：支持不同屏幕尺寸自适应，确保移动端可用性

---

### 6.5 状态管理与操作流程

系统支持两种类型的页面：**文章类页面**和**配置类页面**，它们具有不同的状态管理和操作流程。

#### 6.5.1 文章类页面状态管理

**适用页面**：
- 新闻中心/文章管理
- 业务领域/工程承包明细
- 党建领航/党的建设
- 党建领航/青年之友
- 人力资源/招聘信息

**注意**：品牌文化/精彩文化活动和员工风采的状态管理逻辑与标准文章类页面不同，详见 6.5.3 章节。

**三种状态**：

| 状态 | 状态标识 | 显示标签 | 颜色 | 说明 |
|------|----------|----------|------|------|
| 🟡 未上线 | `draft` | 未上线 | 黄色 | 文章处于草稿状态，尚未发布至官网 |
| 🟢 已上线 | `published` | 已上线 | 绿色 | 文章已发布至官网，当前版本与线上完全同步 |
| 🔵 待更新 | `pending` | 待更新 | 蓝色 | 文章已发布，但本地有未同步的修改 |

**状态判断逻辑**：
- 如果文章状态为草稿（`draft`），显示"未上线"状态
- 如果文章已发布（`published`）但有未同步的修改，显示"待更新"状态
- 如果文章已发布且完全同步，显示"已上线"状态

**操作按钮**：

| 状态 | 显示按钮 | 按钮功能 |
|------|----------|----------|
| 未上线 (`draft`) | 发布、编辑、删除 | 点击"发布"将文章上线至官网 |
| 已上线 (`published`) | 下架、编辑 | 点击"下架"将文章从官网下线（转为草稿） |
| 待更新 (`pending`) | 更新、下架、编辑 | 点击"更新"将本地修改同步至官网 |

**上下架操作流程**：

1. **发布上线**（草稿 → 已上线）
   - 触发条件：文章状态为草稿
   - 操作：点击"发布"按钮
   - 结果：文章状态变为已发布，未同步修改标记清除
   - 效果：文章立即在官网展示

2. **下架**（已上线/待更新 → 草稿）
   - 触发条件：文章状态为已发布或待更新
   - 操作：点击"下架"按钮
   - 结果：文章状态变为草稿，未同步修改标记清除
   - 效果：文章从官网下线，不再展示

3. **更新同步**（待更新 → 已上线）
   - 触发条件：文章状态为待更新（已发布但有未同步修改）
   - 操作：点击"更新"按钮
   - 结果：未同步修改标记清除，状态变为已发布
   - 效果：本地修改同步至官网

**编辑行为**：
- 编辑已上线的文章时，修改后不会立即同步到官网
- 系统会自动标记为"待更新"状态
- 需要点击"更新"按钮才能将修改同步至官网

**删除限制**：
- 只有未上线状态的文章才能删除
- 已上线或待更新状态的文章不能删除，必须先下架

---

#### 6.5.2 配置类页面状态管理

**适用页面**：
- 全局资源库各子模块
- 首页管理各子模块
- 关于我们各子模块
- 业务领域/Banner、实业投资、国际贸易
- 品牌文化/企业文化
- 党建领航/Banner
- 人力资源/人才战略、人才队伍
- 企业公开各子模块
- 可持续发展各子模块

**三种状态**：

| 状态 | 状态标识 | 显示标签 | 颜色 | 说明 |
|------|----------|----------|------|------|
| 🟡 有未保存修改 | `unsaved` | 有未保存修改 | 黄色 | 正在编辑中，内容有修改但未保存 |
| 🔵 待同步 | `pending` | 待同步 | 蓝色 | 配置已保存到本地，但未发布至官网 |
| 🟢 已发布 | `published` | 已上线 | 绿色 | 配置已发布至官网，当前版本与线上完全同步 |

**状态监听机制**：

配置类页面通过统一的状态管理机制监听状态变化：

1. **未保存修改检测**：
   - 系统通过对比当前数据和保存快照检测是否有未保存的修改
   - 当检测到数据变化时，自动标记为"有未保存修改"状态

2. **待同步状态检测**：
   - 用户点击"保存配置"后，系统更新保存快照
   - 清除未保存标记，标记为"待同步"状态
   - 此时配置已保存但尚未发布到官网

3. **已发布状态检测**：
   - 用户点击"发布更新"后，系统更新发布快照
   - 清除未保存标记和待同步标记
   - 标记为"已发布"状态，配置已同步到官网

**操作按钮**：

| 状态 | 显示按钮 | 按钮功能 | 按钮状态 |
|------|----------|----------|----------|
| 有未保存修改 (`unsaved`) | 保存配置、发布更新 | "保存配置"高亮，"发布更新"禁用 | 保存按钮可点击，发布按钮禁用 |
| 待同步 (`pending`) | 保存配置、发布更新 | "保存配置"禁用，"发布更新"高亮 | 保存按钮禁用，发布按钮可点击 |
| 已发布 (`published`) | 保存配置、发布更新 | "保存配置"默认态，"发布更新"禁用 | 保存按钮可点击，发布按钮禁用 |

**保存配置操作**：

1. **功能**：将当前编辑的配置保存到本地（草稿）
2. **触发**：点击"保存配置"按钮
3. **效果**：
   - 配置数据保存到本地存储
   - 状态从 `unsaved` 变为 `pending`
   - 显示"待同步"标签
   - 配置尚未发布到官网，不影响线上展示

**发布更新操作**：

1. **功能**：将已保存的配置发布至官网，使配置生效
2. **触发**：点击"发布更新"按钮（会弹出确认弹窗）
3. **效果**：
   - 配置数据同步至官网
   - 状态从 `pending` 变为 `published`
   - 显示"已上线"标签，并显示发布时间
   - 配置立即在官网生效

**状态流转图**：

```
编辑内容
   ↓
🟡 有未保存修改 (unsaved)
   ↓ [点击"保存配置"]
🔵 待同步 (pending)
   ↓ [点击"发布更新"]
🟢 已发布 (published)
   ↓ [继续编辑]
🟡 有未保存修改 (unsaved)
```

**离开拦截**：

- 当状态为 `unsaved` 时，如果用户尝试离开页面（关闭浏览器、刷新页面、切换路由），系统会弹出警告提示
- 防止用户意外丢失未保存的修改

**状态持久化**：

- 待同步状态会持久化存储，确保页面刷新后状态不丢失
- 发布时间会持久化存储，用于显示"当前版本已于 XX:XX 上线"
- 页面刷新后状态会自动恢复

---

#### 6.5.3 精彩文化活动与员工风采状态管理（特殊场景）

**适用页面**：
- 品牌文化/企业文化 - 精彩文化活动 Tab
- 品牌文化/企业文化 - 员工风采 Tab

**特殊说明**：
精彩文化活动和员工风采的状态管理逻辑与标准文章类页面不同，它们的状态由页面底部的"保存配置"和"发布更新"按钮统一控制，而不是每个卡片独立的发布/下架按钮。

**卡片状态显示**：

| 状态 | 状态标识 | 显示标签 | 颜色 | 判断条件 |
|------|----------|----------|------|----------|
| 🟡 有未保存的修改 | `unsaved` | 有未保存的修改 | 黄色 | `status='draft'` 且 `hasUnsyncedChanges=true` |
| 🔵 待更新 | `pending` | 待更新 | 蓝色 | `status='draft'` 且 `hasUnsyncedChanges=false` |
| 🟢 已上线 | `published` | 已上线 | 绿色 | `status='published'` 且 `hasUnsyncedChanges=false` |

**状态判断逻辑**：
```javascript
const getArticleStatus = (status, hasUnsyncedChanges) => {
  // 如果有未保存的修改，无论status是什么，都显示"有未保存的修改"（黄色）
  if (hasUnsyncedChanges) return 'unsaved';
  // 如果status是'draft'且hasUnsyncedChanges是false，显示"待更新"（蓝色）
  if (status === 'draft' && !hasUnsyncedChanges) return 'pending';
  // 如果status是'published'且hasUnsyncedChanges是false，显示"已上线"（绿色）
  if (status === 'published' && !hasUnsyncedChanges) return 'published';
  return 'published';
};
```

**编辑弹窗操作**：

**新建活动/员工**：
- 点击"确认"按钮后：
  - 活动/员工状态设置为 `status='draft'`，`hasUnsyncedChanges=true`
  - 卡片左上角显示黄色"有未保存的修改"
  - 弹窗关闭

**编辑已有活动/员工**：
- 点击"确认"按钮后：
  - 系统比较编辑前后的数据，判断是否有修改
  - **有修改时**：活动/员工状态保持原有 `status`，设置 `hasUnsyncedChanges=true`
  - **无修改时**：活动/员工状态和 `hasUnsyncedChanges` 保持原状
  - 卡片左上角根据状态显示相应标签（有修改的显示黄色"有未保存的修改"）
  - 弹窗关闭

**弹窗按钮**：
- **确认**：提交编辑内容，标记为有未保存的修改（如有修改）
- **历史记录**：查看该活动/员工的版本历史（仅编辑已有活动/员工时显示，位于"确认"按钮左侧）
- **无"取消"按钮**：编辑弹窗不提供取消按钮

**页面底部操作**：

**保存配置**（页面右下角）：
- 功能：将当前编辑的配置保存到本地（草稿）
- 触发：点击"保存配置"按钮
- 效果：
  - **有修改的活动/员工**：
    - 如果原本是 `published` 状态，变为 `status='draft'`，`hasUnsyncedChanges=false`
    - 如果原本是 `draft` 状态，保持 `status='draft'`，`hasUnsyncedChanges=false`
    - 卡片左上角显示蓝色"待更新"
  - **没有修改的活动/员工**：保持原状，不受影响

**发布更新**（页面右下角）：
- 功能：将已保存的配置发布至官网，使配置生效
- 触发：点击"发布更新"按钮（会弹出确认弹窗）
- 效果：
  - **`status='draft'` 的活动/员工**（这些是保存配置后变成 draft 的）：
    - 状态变为 `status='published'`，`hasUnsyncedChanges=false`
    - 卡片左上角显示绿色"已上线"
  - **没有修改的活动/员工**：保持原状，不受影响

**状态流转图**：

**新建流程**：
```
新建活动/员工 → 点击"确认"
   ↓
🟡 有未保存的修改 (status='draft', hasUnsyncedChanges=true)
   ↓ [点击"保存配置"]
🔵 待更新 (status='draft', hasUnsyncedChanges=false)
   ↓ [点击"发布更新"]
🟢 已上线 (status='published', hasUnsyncedChanges=false)
```

**编辑已有项目流程**：
```
编辑已有活动/员工（有修改） → 点击"确认"
   ↓
🟡 有未保存的修改 (status保持原状, hasUnsyncedChanges=true)
   ↓ [点击"保存配置"]
🔵 待更新 (status='draft', hasUnsyncedChanges=false)
   ↓ [点击"发布更新"]
🟢 已上线 (status='published', hasUnsyncedChanges=false)
```

**编辑已有项目（无修改）**：
```
编辑已有活动/员工（无修改） → 点击"确认"
   ↓
保持原状（不改变 status 和 hasUnsyncedChanges）
```

**卡片操作按钮**：

**卡片右上角操作按钮**（悬停显示）：
- **编辑**：打开编辑弹窗
- **历史记录**：查看该活动/员工的版本历史（仅已有活动/员工时显示）
- **删除**：删除该活动/员工

**显示条件**：
- 鼠标悬停在卡片上时显示（`opacity-0 group-hover:opacity-100`）
- 历史记录按钮仅当活动/员工已存在时显示

**与标准文章类页面的区别**：

| 特性 | 标准文章类页面 | 精彩文化活动/员工风采 |
|------|--------------|---------------------|
| 发布按钮位置 | 文章列表每行的"发布"按钮 | 页面底部"发布更新"按钮（统一控制） |
| 下架按钮位置 | 文章列表每行的"下架"按钮 | 无独立下架按钮 |
| 编辑弹窗按钮 | 保存草稿、发布、取消 | 确认、历史记录（无取消按钮） |
| 状态控制 | 每个文章独立控制 | 由页面底部按钮统一控制 |
| 状态显示 | 未上线/已上线/待更新 | 有未保存的修改/待更新/已上线 |
| 修改检测 | 自动检测未同步修改 | 通过 `hasUnsyncedChanges` 标记控制 |

---

#### 6.5.4 状态显示组件

系统使用统一的 `FloatingActionBar` 组件在页面底部显示状态和操作按钮：

**状态标签样式**：
- 未上线/有未保存修改：黄色背景 + 黄色圆点
- 待更新/待同步：蓝色背景 + 蓝色圆点
- 已上线/已发布：绿色背景 + 绿色圆点

**按钮高亮规则**：
- 有未保存修改：保存按钮高亮（蓝色背景 + 呼吸动画）
- 待同步/待更新：发布/更新按钮高亮（蓝色背景）
- 已发布：发布按钮禁用（灰色背景）

**辅助信息**：
- 已发布状态显示："当前版本已于 XX:XX 上线"
- 待同步状态显示："有未发布变更"
- 有未保存修改显示："请保存以免丢失"

---

### 6.6 历史记录功能

CMS 系统提供完整的历史记录功能，用于追踪所有内容修改和操作历史。历史记录功能通过 `UnifiedHistoryModal` 组件实现，支持三种不同的记录模式。

#### 6.6.1 历史记录类型

**1. 配置页面模式** (`mode="editor"`)

**适用场景**：单一配置页面，内容始终存在，通过"保存配置"和"发布更新"进行版本管理。

**记录类型**：
- **保存配置** (`draft`) - 用户点击"保存配置"按钮时记录，标签显示为"保存"
- **发布更新** (`published`) - 用户点击"发布更新"按钮时记录，标签显示为"发布更新"

**数据结构**：
```javascript
{
  id: string,              // 记录唯一ID
  time: string,            // 操作时间，格式：'YYYY-MM-DD HH:mm'
  description: string,     // 修改描述，如："更新了主标题和Banner图片"
  operator: string,        // 操作人，如："admin"
  status: 'draft' | 'published'  // 状态：'draft'=保存配置，'published'=发布更新
}
```

**功能特性**：
- ✅ 支持恢复历史版本（仅 `status='draft'` 的记录可恢复）
- ✅ 按月份分组显示
- ✅ 支持搜索、时间筛选、状态筛选
- ✅ 显示操作人和操作时间

**应用页面**：所有配置类页面，包括：
- 全局资源库/公司档案信息
- 首页管理各子模块（Banner设置、最新动态、关于我们、业务板块、社会责任与文化、员工风采、合作伙伴）
- 关于我们各子模块（Banner设置、公司简介、发展历程、董事长致辞、公司领导、荣誉资质）
- 新闻中心/Banner设置
- 业务领域（Banner设置、实业投资、国际贸易）
- 品牌文化（Banner设置、企业文化、品牌形象）
- 党建领航（Banner设置、党的建设、廉洁从业、青年之友、职工之家）
- 人力资源（Banner设置、人才战略、人才队伍）
- 企业公开（Banner设置、基本信息、联系方式）
- 可持续发展（Banner设置、科技创新、安环行动、全球发展、社会责任、ESG报告）
- 页脚内容

**2. 资源库模式** (`mode="library"`)

**适用场景**：资源库管理页面，记录对资源项的新增、编辑、删除操作。

**记录类型**：
- **新增** (`add`) - 新增资源项时记录
- **编辑** (`edit`) - 编辑资源项时记录
- **删除** (`delete`) - 删除资源项时记录

**数据结构**：
```javascript
{
  id: string,              // 记录唯一ID
  time: string,            // 操作时间，格式：'YYYY-MM-DD HH:mm'
  description: string,     // 操作描述，如："新增了 [图片名称]"
  itemTitle: string,       // 资源项名称，如："公司Logo.png"
  operator: string,        // 操作人，如："admin"
  action: 'add' | 'edit' | 'delete'  // 操作类型
}
```

**功能特性**：
- ❌ 不支持恢复历史版本（资源库操作不可逆）
- ✅ 按月份分组显示
- ✅ 支持搜索、时间筛选、操作类型筛选
- ✅ 显示操作人和操作时间

**应用页面**：
- 全局资源库（图片媒体库、资质荣誉库、人员专家库）
- 科技创新成果模块（`SustainTechEditor`）
- 全球发展团队结构（`SustainGlobalEditor`）

**3. 文章页面级操作模式** (`mode="article"`)

**适用场景**：文章管理页面，记录文章的发布、下架、更新等页面级操作。

**记录类型**：
- **发布** (`publish`) - 文章发布上线时记录
- **下架** (`unpublish`) - 文章下架时记录
- **更新** (`update`) - 文章更新时记录（已发布文章重新保存）

**数据结构**：
```javascript
{
  id: string,              // 记录唯一ID
  time: string,            // 操作时间，格式：'YYYY-MM-DD HH:mm'
  description: string,     // 操作描述，如："发布了《新闻标题》"、"下架了《新闻标题》"、"更新了《新闻标题》"
  operator: string,        // 操作人，如："admin"
  action: 'publish' | 'unpublish' | 'update'  // 操作类型
}
```

**功能特性**：
- ❌ **不支持恢复历史版本**（页面级操作日志，不可逆）
- ✅ 按月份分组显示
- ✅ 支持搜索、时间筛选、操作类型筛选
- ✅ 显示操作人和操作时间

**应用页面**：
- 新闻中心/文章管理（页面级操作）- `news_list_page`
- 工程承包（页面级操作）- `business_engineering_page`
- 项目总览（页面级操作）- `business_project_page`

**4. 单篇文章/项目/活动/员工版本历史**（`mode="editor"` + `useArticleVersionLabels={true}`）

**适用场景**：单篇文章、项目、活动、员工的编辑和发布版本历史。

**记录类型**：
- **保存** (`draft`) - 保存文章/项目/活动/员工时记录，标签显示为"保存"
- **发布** (`published`) - 发布文章/项目/活动/员工时记录，标签显示为"发布"
- **更新** (`updated`) - 更新已发布的文章/项目/活动/员工时记录，标签显示为"更新"
- **下架** (`unpublish`) - 下架文章/项目/活动/员工时记录，标签显示为"下架"，无辅助文字

**数据结构**：
```javascript
{
  id: string,              // 记录唯一ID
  time: string,            // 操作时间，格式：'YYYY-MM-DD HH:mm'
  description: string,     // 修改描述
  // 对于 draft 状态：详细描述，如："编辑了\"标题\"、\"摘要\"内容"
  // 对于 published/updated 状态：简单描述，如："发布了文章"、"更新了文章"
  // 对于 unpublish 状态：空字符串
  operator: string,        // 操作人，如："admin"
  status: 'draft' | 'published' | 'updated' | 'unpublish'  // 状态
}
```

**功能特性**：
- ✅ 支持恢复历史版本（仅 `status='draft'` 的记录可恢复）
- ✅ 按月份分组显示
- ✅ 支持搜索、时间筛选、状态筛选
- ✅ 显示操作人和操作时间
- ✅ 对于 `published` 和 `updated` 记录，显示辅助文字："发布/更新了[XXX时间]保存的版本"

**应用页面**：
- 新闻中心/文章管理（单篇文章版本历史）- `news_article_{articleId}`
- 招聘信息（单篇招聘公告版本历史）- `hr_recruit_article_{articleId}`
- 工程承包（单项目版本历史）- `business_project_{projectId}`
- 项目总览（单项目版本历史）- `business_project_{projectId}`
- 企业文化/精彩文化活动（单活动版本历史）- `culture_activity_{activityId}`
- 企业文化/员工风采（单员工版本历史）- `culture_staff_{staffId}`

**5. 资源库单个资源版本历史**（`VersionHistoryModal` 组件）

**适用场景**：资源库中单个资源项的版本历史记录，用于追踪该资源项的修改历史。

**组件**：`VersionHistoryModal`

**数据结构**：
```javascript
{
  version: string,         // 版本号，如："V1", "V2", "V3"
  time: string,            // 操作时间，格式：'YYYY-MM-DD HH:mm'
  operator: string,        // 操作人，如："admin"
  changes: string          // 修改内容描述，如："更新了数值为2200"、"初始创建"
}
```

**功能特性**：
- ✅ 支持恢复到历史版本（非最新版本可恢复）
- ✅ 时间轴样式展示，当前版本用蓝色圆点标记
- ✅ 显示"当前"标签标记最新版本
- ✅ 显示版本号、修改内容、操作人、时间
- ✅ 历史版本显示"恢复"按钮

**应用页面**：
- 全局资源库/公司档案信息（单个数据项版本历史）- 数据卡片右上角操作按钮
- 全局资源库/资质荣誉库（单个资质数据版本历史）- 数据展示卡片右上角操作按钮

**版本历史弹窗规范**：
- **标题**：显示"版本历史"
- **资源信息**：显示资源项名称（如："工程勘察综合甲级资质"、"成立时间"）
- **资源类型标签**：数据展示项显示"数据展示项"标签（灰色背景）
- **版本列表**：
  - 时间轴样式，左侧垂直连接线
  - 当前版本：蓝色圆点（`bg-brand`），版本号蓝色文字，显示"当前"标签
  - 历史版本：灰色圆点（`bg-gray-4`），版本号黑色文字
  - 每个版本显示：版本号、修改内容、操作人和时间
  - 历史版本右侧显示"恢复"按钮（时钟图标 + 文字）
- **底部按钮**：显示"关闭"按钮

**恢复功能**：
- 点击历史版本的"恢复"按钮，弹出确认对话框
- 确认后，从版本描述中提取数据并恢复到该版本
- 恢复后需要手动保存才能生效

#### 6.6.2 历史记录数据结构规范

**配置页面模式记录结构**：

```typescript
interface EditorHistoryRecord {
  id: string;                    // 记录唯一ID，格式：'h{timestamp}_{index}'
  time: string;                   // 操作时间，ISO格式：'YYYY-MM-DD HH:mm'
  description: string;            // 修改描述，用户可自定义或系统自动生成
  operator: string;               // 操作人用户名
  status: 'draft' | 'published'; // 状态：'draft'=保存配置，'published'=发布更新
  data?: object;                 // 可选：该版本的数据快照（用于恢复）
}
```

**资源库模式记录结构**：

```typescript
interface LibraryHistoryRecord {
  id: string;                    // 记录唯一ID，格式：'lib_{timestamp}_{index}'
  time: string;                   // 操作时间，ISO格式：'YYYY-MM-DD HH:mm'
  description: string;            // 操作描述，系统自动生成
  itemTitle: string;              // 资源项名称
  itemId?: string;               // 可选：资源项ID
  operator: string;              // 操作人用户名
  action: 'add' | 'edit' | 'delete'; // 操作类型
  data?: object;                 // 可选：操作时的数据快照
}
```

**文章页面级操作记录结构**：

```typescript
interface ArticleHistoryRecord {
  id: string;                    // 记录唯一ID，格式：'art_{timestamp}_{index}'
  time: string;                   // 操作时间，ISO格式：'YYYY-MM-DD HH:mm'
  description: string;            // 操作描述，系统自动生成
  articleId?: number;            // 可选：文章ID
  articleTitle?: string;          // 可选：文章标题
  operator: string;             // 操作人用户名
  action: 'publish' | 'unpublish' | 'update'; // 操作类型
  data?: object;                 // 可选：操作时的数据快照
}
```

**资源库单个资源版本历史记录结构**：

```typescript
interface ResourceVersionHistory {
  version: string;                // 版本号，格式：'V1', 'V2', 'V3'...
  time: string;                   // 操作时间，ISO格式：'YYYY-MM-DD HH:mm'
  operator: string;              // 操作人用户名
  changes: string;               // 修改内容描述，如："更新了数值为2200"、"初始创建"
  data?: object;                 // 可选：该版本的数据快照（用于恢复）
}
```

#### 6.6.3 历史记录生成规则

**配置页面模式**：

**保存配置时**：
- 自动生成 `draft` 状态记录
- 描述建议：系统自动检测修改的字段，生成描述，如："更新了主标题和Banner图片"
- 如果用户未修改描述，使用默认描述："保存了配置修改"

**发布更新时**：
- 自动生成 `published` 状态记录
- 描述建议：与对应的 `draft` 记录描述保持一致
- 如果存在未发布的 `draft` 记录，将 `draft` 记录标记为已发布

**资源库页面级操作日志**：

**新增资源时**：
- 自动生成 `add` 操作记录
- 描述格式：`"新增了 [${itemTitle}]"`

**编辑资源时**：
- 自动生成 `edit` 操作记录
- 描述格式：`"编辑了 [${itemTitle}]"`
- 同时生成单个资源的版本历史记录（`VersionHistoryModal`）

**删除资源时**：
- 自动生成 `delete` 操作记录
- 描述格式：`"删除了 [${itemTitle}]"`

**资源库单个资源版本历史生成规则**：

**编辑资源时**：
- 自动生成版本历史记录
- 版本号：自动递增（V1, V2, V3...）
- 修改内容：系统自动生成描述，如："更新了数值为2200"、"更新了成立时间为1964-10-01"
- 初始创建：首次创建时记录为"初始创建"
- 操作人：记录当前操作人
- 时间：记录操作时间

**文章页面级操作模式**：

**发布文章时**：
- 自动生成 `publish` 操作记录
- 描述格式：`"发布了《${articleTitle}》"`

**下架文章时**：
- 自动生成 `unpublish` 操作记录
- 描述格式：`"下架了《${articleTitle}》"`

**更新文章时**：
- 自动生成 `update` 操作记录
- 描述格式：`"更新了《${articleTitle}》"`
- 触发条件：已发布文章重新保存时

**单篇文章/项目/活动/员工版本历史**：

**保存时**（`status='draft'`）：
- 自动生成 `draft` 状态记录
- 描述格式：系统自动检测修改的字段，生成详细描述，如：`"编辑了\"标题\"、\"摘要\"内容"`
- 检测字段包括：标题、摘要、正文、封面、分类、展示位置、发布时间、作者
- **招聘信息特殊字段**：还会检测附件（`attachment`）字段变化，如：`"编辑了\"标题\"、\"附件\"内容"`
- 只有 `draft` 状态的记录才生成细粒度字段描述
- 只有 `draft` 状态的记录才可恢复

**发布时**（`status='published'`）：
- 自动生成 `published` 状态记录
- 描述格式：简单描述，如：`"发布了文章"`
- 辅助文字：`"发布/更新了[XXX时间]保存的版本"`（需要找到对应的 `draft` 记录）

**更新时**（`status='updated'`）：
- 自动生成 `updated` 状态记录
- 描述格式：简单描述，如：`"更新了文章"`
- 辅助文字：`"发布/更新了[XXX时间]保存的版本"`（需要找到对应的 `draft` 记录）

**下架时**（`status='unpublish'`）：
- 自动生成 `unpublish` 状态记录
- 描述格式：空字符串（无辅助文字）
- 不可恢复

#### 6.6.4 历史记录功能入口

历史记录按钮在系统中的位置和触发方式如下：

**1. PageBanner 右侧按钮**（页面顶部右侧）

**适用页面**：
- 所有配置页面（使用 `EditorLayout` 或 `PageBanner` 组件）
- 所有资源库页面
- 新闻中心/文章管理（页面级操作）
- 招聘信息（页面级操作）
- 工程承包（页面级操作）
- 项目总览（页面级操作）

**触发方式**：点击 `PageBanner` 右侧的"历史记录"按钮（时钟图标 + 文字）

**显示内容**：该页面的所有历史记录

**2. 编辑弹窗底部按钮**（弹窗底部右侧）

**适用页面**：
- 新闻中心/文章管理（编辑文章弹窗）
- 招聘信息（编辑招聘公告弹窗）
- 工程承包（编辑项目弹窗）
- 项目总览（编辑项目弹窗）
- 企业文化/精彩文化活动（编辑活动弹窗）
- 企业文化/员工风采（编辑员工弹窗）

**触发方式**：编辑已有项目时，在编辑弹窗底部右侧点击"历史记录"按钮

**显示条件**：仅当编辑已有项目时显示（`showHistory={true}`）

**显示内容**：单篇文章/项目/活动/员工的版本历史（`mode="editor"`，`useArticleVersionLabels={true}`）

**3. 资源卡片右上角按钮**（卡片悬停时显示）

**适用页面**：
- 全局资源库/公司档案信息（数据卡片右上角）
- 全局资源库/资质荣誉库（数据展示卡片右上角）
- 企业文化/精彩文化活动（活动卡片右上角）
- 企业文化/员工风采（员工卡片右上角）

**触发方式**：鼠标悬停在卡片上，点击右上角的时钟图标按钮（`ResourceActions` 组件）

**显示条件**：
- 鼠标悬停在卡片上时显示（`opacity-0 group-hover:opacity-100`）
- 仅当资源项已存在时显示（已有版本历史）

**显示内容**：
- 资源库单个资源版本历史（`VersionHistoryModal` 组件）- 公司档案信息、资质荣誉库
- 单活动/员工版本历史（`mode="editor"`，`useArticleVersionLabels={true}`）- 企业文化

**4. Tab 区域右侧按钮**（Tab 切换区域右侧）

**适用页面**：
- 企业公开/基本信息（Tab 区域右侧）

**触发方式**：点击 Tab 区域右侧的"历史记录"按钮

**显示内容**：当前激活 Tab 的历史记录（`mode="editor"`）

**特殊说明**：每个 Tab 有独立的历史记录

**5. 资源库单个资源版本历史入口**

**位置类型**：资源卡片右上角操作按钮（`ResourceActions` 组件）

**适用页面**：
- 全局资源库/公司档案信息（数据卡片右上角）
- 全局资源库/资质荣誉库（数据展示卡片右上角）

**触发方式**：点击资源卡片右上角的"历史记录"图标按钮（悬停显示）

**显示内容**：该资源项的版本历史（`VersionHistoryModal` 组件）

**显示条件**：仅当资源项已存在时显示（已有版本历史）

**6. 模块编辑弹窗按钮**（模块编辑弹窗顶部）

**适用页面**：
- 实业投资（编辑模块弹窗）
- 国际贸易（编辑模块弹窗）
- 科技创新（编辑模块弹窗）
- 全球发展（编辑团队结构弹窗）

**触发方式**：在模块编辑弹窗中，点击 `PageBanner` 右侧的"历史记录"按钮

**显示内容**：该模块的版本历史（`mode="editor"`，`useArticleVersionLabels={true}`）

**历史记录按钮样式规范**：

所有历史记录按钮统一使用以下样式：

- **图标**：`Clock` 图标（`lucide-react`）
- **文字**："历史记录"
- **样式类**：`flex items-center gap-1.5 px-3 py-2 text-gray-6 hover:text-gray-7 hover:bg-gray-2 rounded-lg text-sm transition-colors`
- **图标尺寸**：
  - 标准按钮：`w-4 h-4`
  - 小尺寸按钮（PageBanner）：`w-3.5 h-3.5`
  - 卡片操作按钮：`w-3.5 h-3.5`

#### 6.6.5 历史记录恢复功能

**支持恢复的场景**：

- ✅ 配置页面模式（`mode="editor"`）- 可恢复到历史版本
  - **限制**：仅 `status='draft'` 的记录可恢复（保存记录）
  - **不可恢复**：`status='published'`、`status='updated'`、`status='unpublish'` 的记录不可恢复
- ✅ 单篇文章/项目/活动/员工版本历史（`mode="editor"` + `useArticleVersionLabels={true}`）- 可恢复到历史版本
  - **限制**：仅 `status='draft'` 的记录可恢复（保存记录）
- ✅ 资源库单个资源版本历史（`VersionHistoryModal`）- **支持恢复**（可恢复到任意历史版本）
  - **限制**：仅非最新版本可恢复（历史版本显示"恢复"按钮）
- ❌ 文章页面级操作模式（`mode="article"`）- **不支持恢复**（页面级操作日志，不可逆）
- ❌ 资源库页面级操作日志（`mode="library"`）- **不支持恢复**（操作不可逆）

**恢复流程**：
1. 用户在历史记录弹窗中选择要恢复的版本
2. 点击"恢复此版本"按钮（仅 `draft` 记录显示此按钮）
3. 系统弹出确认提示
4. 确认后，将历史版本的数据加载到编辑器
5. 用户需要手动保存和发布才能生效

**恢复限制**：
- 只能恢复 `status='draft'` 的记录
- 恢复后需要重新保存和发布
- 恢复操作本身不会创建新的历史记录

#### 6.6.6 历史记录筛选功能

**搜索功能**：
- 搜索范围：修改描述、操作人
- 搜索方式：模糊匹配，不区分大小写
- 实时搜索：输入即搜索

**时间筛选**：
- 全部时间：显示所有记录
- 最近7天：显示最近7天的记录
- 最近30天：显示最近30天的记录
- 最近3个月：显示最近3个月的记录

**状态/操作筛选**：

**配置页面模式**：
- 全部状态
- 发布更新
- 保存

**资源库页面级操作日志**：
- 全部操作
- 新增
- 编辑
- 删除

**资源库单个资源版本历史**（`VersionHistoryModal`）：
- 不支持筛选（版本列表直接展示所有版本）

**文章页面级操作模式**：
- 全部操作
- 发布
- 下架
- 更新

**单篇文章版本历史**（`mode="editor"` + `useArticleVersionLabels={true}`）：
- 全部状态
- 发布
- 保存
- 更新
- 下架

#### 6.6.7 历史记录显示规范

**时间显示格式**：
- **列表时间**：`MM-DD HH:mm`，如："03-20 14:30"
- **月份分组**：`YYYY年MM月`，如："2024年3月"
- **详细时间**：`YYYY-MM-DD HH:mm`，如："2024-03-20 14:30"

**状态标签颜色**：

**配置页面模式**：
- 🟢 **发布更新** (`published`) - 绿色背景 (`bg-success/10`)，绿色文字 (`text-success`)
- 🔵 **保存** (`draft`) - 蓝色背景 (`bg-brand/10`)，蓝色文字 (`text-brand`)

**资源库页面级操作日志**：
- 🟢 **新增** (`add`) - 绿色背景，绿色文字
- 🔵 **编辑** (`edit`) - 蓝色背景，蓝色文字
- 🔴 **删除** (`delete`) - 红色背景，红色文字

**资源库单个资源版本历史**（`VersionHistoryModal`）：
- 🔵 **当前版本** - 蓝色圆点（`bg-brand`），蓝色版本号文字，显示"当前"标签
- ⚪ **历史版本** - 灰色圆点（`bg-gray-4`），黑色版本号文字，显示"恢复"按钮

**文章页面级操作模式**：
- 🟢 **发布** (`publish`) - 绿色背景 (`bg-success/10`)，绿色文字 (`text-success`)
- 🔴 **下架** (`unpublish`) - 红色背景 (`bg-error/10`)，红色文字 (`text-error`)
- 🔵 **更新** (`update`) - 蓝色背景 (`bg-brand/10`)，蓝色文字 (`text-brand`)

**单篇文章版本历史**（`mode="editor"` + `useArticleVersionLabels={true}`）：
- 🟢 **发布** (`published-article`) - 绿色背景，绿色文字
- 🔵 **保存** (`draft-article`) - 蓝色背景，蓝色文字
- 🔵 **更新** (`updated`) - 蓝色背景，蓝色文字
- 🔴 **下架** (`unpublish-article`) - 红色背景，红色文字

**时间轴显示**：
- 最新记录：蓝色实心圆点 (`bg-brand`)
- 历史记录：蓝色半透明圆点 (`bg-brand/30`)，悬停时加深 (`bg-brand/60`)
- 时间轴线条：灰色边框 (`border-gray-4`)

**资源库单个资源版本历史时间轴显示**（`VersionHistoryModal`）：
- 当前版本：蓝色实心圆点 (`bg-brand`)
- 历史版本：灰色实心圆点 (`bg-gray-4`)
- 时间轴线条：灰色边框 (`border-gray-4`)

**辅助文字显示**：
- 对于 `published` 和 `updated` 记录（单篇文章版本历史），显示辅助文字："发布/更新了[XXX时间]保存的版本"
- 对于 `unpublish` 记录，无辅助文字
- 对于 `draft` 记录，显示详细描述（如："编辑了\"标题\"、\"摘要\"内容"）

#### 6.6.8 特殊场景说明

**企业文化页面**：

**页面整体历史记录**：
- 通过页面顶部右侧的"历史记录"按钮查看（`PageBanner` 右侧）
- 记录整个页面的保存和发布历史，包括所有3个Tab的数据（`values`, `activities`, `staff`）
- 模式：`mode="editor"`

**单个活动历史记录**：
- 每个活动都有独立的版本历史记录
- 入口位置：
  1. 活动卡片右上角时钟图标按钮（悬停显示）
  2. 活动编辑弹窗底部右侧"历史记录"按钮（仅编辑已有活动时显示）
- 模式：`mode="editor"`，`useArticleVersionLabels={true}`
- 记录内容：该活动的编辑和发布版本历史（保存、发布、更新、下架）

**单个员工历史记录**：
- 每个员工都有独立的版本历史记录
- 入口位置：
  1. 员工卡片右上角时钟图标按钮（悬停显示）
  2. 员工编辑弹窗底部右侧"历史记录"按钮（仅编辑已有员工时显示）
- 模式：`mode="editor"`，`useArticleVersionLabels={true}`
- 记录内容：该员工的编辑和发布版本历史（保存、发布、更新、下架）

**工程承包/项目总览**：
- 页面级操作使用 `mode="article"` 模式，记录项目的发布、下架、更新操作
- 单个项目编辑弹窗使用 `mode="editor"` + `useArticleVersionLabels={true}` 模式，记录单个项目的版本历史

**新闻中心文章管理**：
- 页面级操作使用 `mode="article"` 模式，记录文章的发布、下架、更新操作
- 单篇文章版本历史使用 `mode="editor"` + `useArticleVersionLabels={true}` 模式，记录单篇文章的编辑和发布版本

**企业公开/基本信息**：
- 每个 Tab（工商注册、企业资质、发展战略、业务分布、工程业绩）都有独立的历史记录
- 历史记录按钮显示在 Tab 切换区域右侧，与当前激活的 Tab 相关

**资源库单个资源版本历史**：
- **公司档案信息**：每个数据项（成立时间、全球员工、建成项目等）都有独立的版本历史
  - 入口位置：数据卡片右上角操作按钮中的"历史记录"图标（`ResourceActions` 组件）
  - 显示内容：该数据项的版本历史（`VersionHistoryModal` 组件）
  - 资源类型：数据展示项（`isStat: true`）
- **资质荣誉库**：每个资质数据项都有独立的版本历史
  - 入口位置：数据展示卡片右上角操作按钮中的"历史记录"图标（`ResourceActions` 组件）
  - 显示内容：该资质数据的版本历史（`VersionHistoryModal` 组件）
  - 资源类型：数据展示项（`isStat: true`）

#### 6.6.9 历史记录存储

**本地存储（当前实现）**：
- 使用 `localStorage` 存储历史记录
- Key 格式：`cms_history_{pageKey}`
- 数据格式：JSON 字符串化的数组
- 限制：最多保存最近 100 条记录

**后端存储（未来实现）**：
- 使用数据库存储历史记录
- 表结构建议：
  - `id` (主键)
  - `page_key` (页面标识)
  - `record_type` (记录类型：editor/library/article)
  - `time` (操作时间)
  - `description` (描述)
  - `operator` (操作人)
  - `status` / `action` (状态/操作类型)
  - `data_snapshot` (数据快照，JSON格式)
  - `created_at` (创建时间)
- 建议保留至少 1 年的历史记录

#### 6.6.10 应用页面汇总表

**说明**：
- ✅ 表示支持恢复历史版本
- ✅* 表示支持恢复，但仅 `status='draft'`（保存）的记录可恢复
- ❌ 表示不支持恢复

| 模块 | 页面 | 组件 | 页面标识 | 模式 | 支持恢复 |
|------|------|------|----------|------|----------|
| **全局资源库** |
| | 公司档案信息-页面级 | CompanyInfoEditor | `company_info` | library | ❌ |
| | 公司档案信息-单个资源 | CompanyInfoEditor | `company_info_item_{id}` | version | ✅ |
| | 图片媒体库 | ImageLibraryEditor | `image_library` | library | ❌ |
| | 资质荣誉库-页面级 | CertLibraryEditor | `cert_library` | library | ❌ |
| | 资质荣誉库-单个资源 | CertLibraryEditor | `cert_library_item_{id}` | version | ✅ |
| | 人员专家库 | PeopleLibraryEditor | `people_library` | library | ❌ |
| **首页管理** |
| | Banner设置 | HomeBannerEditor | `home_banner` | editor | ✅ |
| | 最新动态 | HomeNewsEditor | `home_news` | editor | ✅ |
| | 关于我们 | HomeAboutEditor | `home_about` | editor | ✅ |
| | 业务板块 | HomeBusinessEditor | `home_business` | editor | ✅ |
| | 社会责任与文化 | HomeCultureEditor | `home_culture` | editor | ✅ |
| | 员工风采 | HomeStaffEditor | `home_staff` | editor | ✅ |
| | 合作伙伴 | HomePartnerEditor | `home_partner` | editor | ✅ |
| **关于我们** |
| | Banner设置 | AboutBannerEditor | `about_banner` | editor | ✅ |
| | 公司简介 | IntroEditor | `about_intro` | editor | ✅ |
| | 发展历程 | HistoryEditor | `about_history` | editor | ✅ |
| | 董事长致辞 | SpeechEditor | `about_speech` | editor | ✅ |
| | 公司领导 | LeadersEditor | `about_leaders` | editor | ✅ |
| | 荣誉资质 | HonorsEditor | `about_honors` | editor | ✅ |
| **新闻中心** |
| | Banner设置 | NewsBannerEditor | `news_banner` | editor | ✅ |
| | 文章管理-页面级 | NewsListEditor | `news_list_page` | article | ❌ |
| | 文章管理-单篇 | NewsListEditor | `news_article_{id}` | editor | ✅* |
| **业务领域** |
| | Banner设置 | BusinessBannerEditor | `business_banner` | editor | ✅ |
| | 工程承包-页面级 | BusinessEngineeringEditor | `business_engineering_page` | article | ❌ |
| | 工程承包-单项目 | BusinessEngineeringEditor | `business_project_{id}` | editor | ✅* |
| | 项目总览-页面级 | BusinessProjectEditor | `business_project_page` | article | ❌ |
| | 项目总览-单项目 | BusinessProjectEditor | `business_project_{id}` | editor | ✅* |
| | 实业投资 | BusinessIndustryEditor | `business_industry` | editor | ✅ |
| | 国际贸易 | BusinessTradeEditor | `business_trade` | editor | ✅ |
| **品牌文化** |
| | Banner设置 | ModuleBannerEditor | `culture_banner` | editor | ✅ |
| | 企业文化 | CultureCompanyEditor | `culture_company` | editor | ✅ |
| | 企业文化-单活动 | CultureCompanyEditor | `culture_activity_{id}` | editor | ✅* |
| | 企业文化-单员工 | CultureCompanyEditor | `culture_staff_{id}` | editor | ✅* |
| | 品牌形象 | BrandImageEditor | `culture_brand` | editor | ✅ |
| **党建领航** |
| | Banner设置 | ModuleBannerEditor | `party_banner` | editor | ✅ |
| | 党的建设 | PartyBuildingEditor | `party_building` | editor/article | ✅ |
| | 廉洁从业 | PartyIntegrityEditor | `party_integrity` | editor | ✅ |
| | 青年之友 | PartyYouthEditor | `party_youth` | editor/article | ✅ |
| | 职工之家 | PartyWorkersEditor | `party_workers` | editor | ✅ |
| **人力资源** |
| | Banner设置 | ModuleBannerEditor | `hr_banner` | editor | ✅ |
| | 人才战略 | HREditor | `hr_strategy` | editor | ✅ |
| | 人才队伍 | HREditor | `hr_team` | editor | ✅ |
| | 招聘信息 | HRRecruitEditor | `hr_recruit` | editor/article | ✅*/✅ |
| **企业公开** |
| | Banner设置 | ModuleBannerEditor | `public_banner` | editor | ✅ |
| | 基本信息 | PublicBasicEditor | `public_basic` | editor | ✅ |
| | 联系方式 | PublicContactEditor | `public_contact` | editor | ✅ |
| **可持续发展** |
| | Banner设置 | ModuleBannerEditor | `sustain_banner` | editor | ✅ |
| | 科技创新 | SustainTechEditor | `sustain_tech` | editor | ✅ |
| | 科技创新-成果 | SustainTechEditor | `sustain_tech_result` | library | ❌ |
| | 安环行动 | SustainSafetyEditor | `sustain_safety` | editor | ✅ |
| | 全球发展 | SustainGlobalEditor | `sustain_global` | editor | ✅ |
| | 全球发展-团队 | SustainGlobalEditor | `sustain_global_team` | library | ❌ |
| | 社会责任 | SustainResponsibilityEditor | `sustain_responsibility` | editor | ✅ |
| | ESG报告 | SustainESGEditor | `sustain_esg` | editor | ✅ |
| **其他** |
| | 页脚内容 | FooterContentEditor | `footer_content` | editor | ✅ |

---

## 七、扩展性设计

### 7.1 模块扩展
- 新增内容模块：在菜单配置中添加，创建对应编辑器和预览组件
- 模块字段自定义：每个模块可独立定义字段结构

### 7.2 功能扩展（规划）
- 内容审核：支持草稿、待审核、已发布状态流转
<<<<<<< HEAD
- 定时发布：支持定时发布功能
- 多语言：支持中英文切换

**已实现功能**：
- ✅ **历史记录功能**：完整的历史记录追踪和版本恢复功能（详见 6.6 章节）
=======
- ✅ **版本管理**：已实现统一的内容版本历史管理机制（详见下方说明）
- 定时发布：支持定时发布功能
- 多语言：支持中英文切换

#### 7.2.1 版本管理机制（已实现）

**设计原则**：
- 所有业务表统一采用版本层管理，通过 `content_version` 表存储所有业务表的历史版本
- 每次更新业务记录时，自动保存当前版本到版本历史表
- 支持版本查询、版本对比、版本回滚等功能

**核心组件**：

1. **ContentVersionEntity（版本历史表）**
   - `entity_type`: 实体类型（如 BusinessBannerEntity）
   - `entity_id`: 实体ID（对应业务表主键）
   - `version`: 版本号
   - `content_data`: JSON格式的完整实体数据
   - `created_by`: 创建人ID
   - `comment`: 版本备注
   - `is_current`: 是否为当前版本

2. **VersionManager（版本管理工具类）**
   - 提供统一的版本保存方法
   - 自动处理版本号递增和当前版本标记
   - 支持在Service层调用，自动保存版本历史

3. **ContentVersionService（版本管理服务）**
   - 查询版本历史列表
   - 获取指定版本
   - 获取当前版本
   - 删除版本（软删除）

4. **ContentVersionController（版本管理接口）**
   - `GET /api/manager/versions`: 查询实体版本历史列表
   - `GET /api/manager/versions/page`: 分页查询版本历史
   - `GET /api/manager/versions/{entityType}/{entityId}/{version}`: 获取指定版本
   - `GET /api/manager/versions/current/{entityType}/{entityId}`: 获取当前版本
   - `DELETE /api/manager/versions/{versionId}`: 删除版本

**使用方式**：

在Service层的更新方法中，调用 `VersionManager.saveVersion()` 自动保存版本：

```java
@Service
@RequiredArgsConstructor
public class BusinessBannerService {
    private final VersionManager versionManager;
    
    @Transactional
    public BusinessBannerVO updateBanner(BusinessBannerDTO dto) {
        // ... 更新业务逻辑 ...
        BusinessBannerEntity saved = repository.save(entity);
        
        // 自动保存版本历史
        versionManager.saveVersion(
            "BusinessBannerEntity",  // 实体类型
            saved.getId(),            // 实体ID
            saved.getVersion(),       // 版本号
            saved,                    // 实体对象
            null,                     // 创建人ID（可选）
            "更新业务领域Banner配置"   // 版本备注（可选）
        );
        
        return toVO(saved);
    }
}
```

**版本管理特性**：
- ✅ 自动版本号管理：每次更新时版本号自动递增
- ✅ 完整数据快照：保存完整的实体JSON数据
- ✅ 当前版本标记：自动标记最新版本为当前版本
- ✅ 版本查询：支持查询所有历史版本
- ✅ 版本对比：可通过API获取不同版本数据进行对比
- ✅ 软删除：版本删除采用软删除，保留历史记录

**适用范围**：
- 所有业务表实体（Entity）都支持版本管理
- 包括但不限于：Banner配置、业务模块、新闻文章、页面内容等
- 通过统一的 `VersionManager` 工具类实现，无需在每个Service中重复实现
>>>>>>> a1a1ff3d1b227c5bbdb2ea58db7678edecb814a7

### 7.3 集成扩展
- 富文本编辑器：可集成更强大的编辑器
- 文件存储：对接 OSS/S3 等云存储
- 用户认证：集成 SSO 单点登录

---

## 八、版本规划

### v1.0（已完成）
- ✅ 全局资源库完整功能（公司档案、图片媒体库、资质荣誉库、人员专家库）
- ✅ 关于我们模块完整功能
- ✅ 实时预览功能
- ✅ 响应式布局
- ✅ 登录页面

### v1.1（已完成）
- ✅ 首页管理模块（Banner、最新动态、关于我们、业务板块、社会责任与文化、员工风采、合作伙伴）
- ✅ 新闻中心模块（文章管理、分类管理）
- ✅ 统一数据展示组件 StatsDisplay
- ✅ 统一搜索筛选组件 SearchFilterBar
- ✅ 统一数据表格组件 DataTable

### v1.2（已完成）
- ✅ 业务领域模块（Banner、工程承包、项目总览、实业投资、国际贸易）
- ✅ 品牌文化模块（Banner、企业文化、品牌形象）
- ✅ 党建领航模块（Banner、党的建设、廉洁从业、青年之友、职工之家）
- ✅ 人力资源模块（Banner、人才战略、人才队伍、招聘信息）

### v1.3（当前版本）
- ✅ 企业公开模块（Banner、基本信息、经营管理重大事项、联系方式）
- ✅ 可持续发展模块（Banner、科技创新、安环行动、全球发展、社会责任、ESG报告）
- ✅ 资质荣誉库重构（数据展示+详细信息）
- ✅ 通用 Banner 编辑器 ModuleBannerEditor
- ✅ 历史记录功能（统一历史记录弹窗组件，支持三种记录模式，覆盖所有页面）

### v2.0（规划中）
- 🔲 与后端 API 对接
- 🔲 用户权限管理（RBAC）
- 🔲 操作日志审计（后端存储和查询优化）
- 🔲 内容审核流程（草稿→待审核→已发布）
- 🔲 定时发布功能
<<<<<<< HEAD
- 🔲 历史记录功能增强（历史记录对比、批量恢复、导出功能）
=======
- ✅ **版本管理**：已实现统一的内容版本历史管理机制（见7.2.1节）
>>>>>>> a1a1ff3d1b227c5bbdb2ea58db7678edecb814a7

### v2.1（远期规划）
- 🔲 多语言支持（中/英）
- 🔲 SEO 优化配置
- 🔲 数据统计与分析
- 🔲 OSS/S3 云存储对接
- 🔲 SSO 单点登录集成

---

## 附录

### A. 状态说明
- ✅ 已完成
- 🚧 开发中
- 🔲 规划中
- ❌ 已废弃

### B. 模块开发状态总览

| 模块 | 状态 | 备注 |
|------|------|------|
| 全局资源库 | ✅ 已完成 | 4 个子模块 |
| 首页管理 | ✅ 已完成 | 7 个子模块 |
| 关于我们 | ✅ 已完成 | 6 个子模块 |
| 新闻中心 | ✅ 已完成 | 3 个子模块 |
| 业务领域 | ✅ 已完成 | 5 个子模块 |
| 品牌文化 | ✅ 已完成 | 3 个子模块 |
| 党建领航 | ✅ 已完成 | 5 个子模块，2 个过渡页面 |
| 人力资源 | ✅ 已完成 | 4 个子模块 |
| 企业公开 | ✅ 已完成 | 4 个子模块，3 个过渡页面 |
| 可持续发展 | ✅ 已完成 | 6 个子模块 |

### C. 过渡页面列表（Coming Soon）

| 模块 | 子页面 | 原因 |
|------|--------|------|
| 党建领航 | 廉洁从业 | 内容待定 |
| 党建领航 | 职工之家 | 内容待定 |
| 企业公开 | 经营管理重大事项 | 内容待定 |
| 企业公开 | 业务分布 | 内容待定 |
| 企业公开 | 工程业绩 | 内容待定 |

### D. 文档更新记录

| 日期 | 版本 | 更新内容 | 作者 |
|------|------|----------|------|
| 2025-12-03 | v1.0 | 初始文档创建 | PM |
| 2025-12-06 | v1.3 | 补充完整功能模块设计，包含所有 10 大模块详细字段说明、公共组件设计 | PM |
| 2025-12-14 | v1.4 | 补充状态管理与操作流程章节（6.5），详细说明文章类页面的3种状态（未上线/已上线/待更新）及上下架操作，配置类页面的状态监听、保存配置、发布更新机制；补充历史记录功能详细说明（6.6章节），包括三种记录模式、数据结构、生成规则、恢复功能、筛选功能等，更新版本规划将历史记录功能标记为已实现；完善历史记录功能说明（6.6章节），补充单篇文章/项目/活动/员工版本历史详细说明，更新历史记录按钮位置详细说明，修正恢复功能限制（仅draft记录可恢复），更新文章页面级操作模式描述（发布/下架/更新），补充企业文化页面单个活动和员工历史记录说明，添加完整的历史记录入口汇总表和显示规范；更新精彩文化活动和员工风采的状态管理说明（2.7.2和6.5.3章节），详细说明卡片状态与按钮的关系、编辑弹窗操作、页面底部操作、状态流转逻辑；修正招聘信息功能说明（2.9.4章节），明确招聘信息与新闻中心-文章管理使用相同的编辑器和数据结构，更新字段定义（title、summary、content、author、attachment等），补充附件字段说明，将招聘信息的历史记录模式从library/article修正为editor/article，补充招聘信息在单篇文章版本历史中的应用说明，补充招聘信息在历史记录功能入口中的说明，补充招聘信息附件字段检测说明，更新应用页面汇总表（6.6.10章节）；修正全局资源库公司档案信息模块。 | PM |

---

## E. 开发指南

### 前端开发

1. **技术栈**：React 19 + Vite + Tailwind CSS + Lucide Icons
2. **组件优先**：优先使用已有公共组件，避免重复开发
3. **样式规范**：严格遵循设计规范中的颜色、字体、间距、圆角系统
4. **响应式**：所有页面需支持移动端适配

### 后端开发

1. **接口规范**：RESTful API，统一响应格式
2. **数据验证**：根据字段必填和类型进行参数校验
3. **文件上传**：支持图片、视频、PDF 文件，返回 URL
4. **分页查询**：列表接口统一支持分页、筛选、排序参数

---

*本文档作为产品需求说明，供前后端开发团队参考实现。文档版本随项目迭代持续更新。*

